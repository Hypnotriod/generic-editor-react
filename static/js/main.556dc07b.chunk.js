(this["webpackJsonpgeneric-editor-react"]=this["webpackJsonpgeneric-editor-react"]||[]).push([[0],{108:function(e,t,i){},116:function(e,t,i){},117:function(e,t,i){},152:function(e,t){},232:function(e,t,i){},242:function(e,t,i){},244:function(e,t,i){},245:function(e,t,i){},246:function(e,t,i){},247:function(e,t,i){},248:function(e,t,i){},249:function(e,t,i){},250:function(e,t,i){},251:function(e,t,i){"use strict";i.r(t);var s=i(1),o=i.n(s),n=i(30),r=i.n(n),a=(i(116),i(117),i(2)),c=i(11),l=i(3),d=(i(232),i(51));const p=Object.freeze({SET_SELECTED_NODE_ID:"SET_SELECTED_NODE_ID",SET_COPY_NODE_ID:"SET_COPY_NODE_ID",INSERT_BEFORE_NODE:"INSERT_BEFORE_NODE",MOVE_NODE:"MOVE_NODE",APPEND_NODE:"APPEND_NODE",UPDATE_NODE_NAME:"UPDATE_NODE_NAME",DELETE_NODE:"DELETE_NODE",CREATE_NODE:"CREATE_NODE",IMPORT_TREE_DATA:"IMPORT_TREE_DATA"}),h=e=>({type:p.SET_SELECTED_NODE_ID,payload:e}),u=e=>({type:p.UPDATE_NODE_NAME,payload:e}),A=(e,t)=>({type:p.CREATE_NODE,payload:{nodeID:t,referenceID:e}}),E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.push(e.id),e.nodes.forEach((e=>E(e,t))),t},I=function(e,t){if(O(e,t))return t;for(let i=0;i<t.nodes.length;i++){const s=I(e,t.nodes[i]);if(s)return s}return null},g=function(e,t){if(t.nodes.some((t=>t.id===e)))return!0;for(let i=0;i<t.nodes.length;i++)if(g(e,t.nodes[i]))return!0;return!1},O=function(e,t){return t.nodes.some((t=>t.id===e))},S=function(e,t){if(t.id===e)return t;const i=t.nodes.find((t=>t.id===e));if(i)return i;for(let s=0;s<t.nodes.length;s++){const i=S(e,t.nodes[s]);if(i)return i}return null},R=function(e,t){if(O(e,t))return t.nodes=t.nodes.filter((t=>t.id!==e)),!0;for(let i=0;i<t.nodes.length;i++){const s=R(e,t.nodes[i]);if(s)return s}return!1},b=function(e,t,i){const s=S(t,i);return!!s&&(s.nodes=[...s.nodes,e],!0)},P=function(e){return{id:e,name:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"node_".concat(e),nodes:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]}},m="__grid_graphics",T={customDisplayObject:()=>new a.Container,customApplyProps:(e,t,i)=>{let{id:s,cellSize:o,gridSize:n,color:r,lineWidth:c,onSelect:l}=i;void 0===o&&(o=50),void 0===n&&(n=100);const d=o*n,p=o*n;e.name=s,e.position.set(-d/2,-p/2);let h=e.getChildByName(m);h||(h=new a.Graphics,h.name=m,e.addChild(h)),h.clear(),h.lineStyle(c,r);for(let a=0;a<n;a++)a!==n/2&&(h.moveTo(a*o,0),h.lineTo(a*o,d));for(let a=0;a<n;a++)a!==n/2&&(h.moveTo(0,a*o),h.lineTo(p,a*o));h.lineStyle(c,65280),h.moveTo(d/2,0),h.lineTo(d/2,p),h.moveTo(0,p/2),h.lineTo(d,p/2),h.drawRect(0,0,d,p),h.endFill(),h.interactive||(h.hitArea=new a.Rectangle(-Number.MAX_SAFE_INTEGER/2,-Number.MAX_SAFE_INTEGER/2,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),h.interactive=!0,h.on("mousedown",(()=>{l(null)}),void 0))}},v=Object(c.CustomPIXIComponent)(T,"CGrid"),j=(Object.freeze({MASK:"MASK",HIT_AREA:"HIT_AREA"}),Object.freeze({CONTAINER:"CONTAINER",SPRITE:"SPRITE",GRAPHICS:"GRAPHICS",NINE_SLICE_SPRITE:"NINE_SLICE_SPRITE",TEXT:"TEXT"})),x=function(e){return{type:e,components:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}},C=Object.freeze({ARIAL:"Arial",ARIAL_BLACK:"Arial Black",COMIC_SANS_MS:"Comic Sans MS",COURIER_NEW:"Courier New",GEORGIA:"Georgia",HELVETICA:"Helvetica",IMPACT:"Impact",TAHOMA:"Tahoma",TIMES_NEW_ROMAN:"Times New Roman",VERDANA:"Verdana"}),N=Object.freeze({NORMAL:"normal",ITALIC:"italic",OBLIQUE:"oblique"}),D=Object.freeze({NORMAL:"normal",SMALL_CAPS:"small-caps"}),w=Object.freeze({NORMAL:"normal",BOLD:"bold",BOLDER:"bolder",LIGHTER:"lighter",WEIGHT_100:100,WEIGHT_200:200,WEIGHT_300:300,WEIGHT_400:400,WEIGHT_500:500,WEIGHT_600:600,WEIGHT_700:700,WEIGHT_800:800,WEIGHT_900:900}),y=Object.freeze({MITER:"miter",ROUND:"round",BEVEL:"bevel"}),_=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right"}),f=Object.freeze({NORMAL:"normal",PRE:"pre",PRE_LINE:"pre-line"}),L=Object.freeze({RECTANGLE:"RECTANGLE",ROUNDED_RECTANGLE:"ROUNDED_RECTANGLE",CIRCLE:"CIRCLE"}),B={x:0,y:0,color:"0x000000",alpha:1},M=e=>{if(e===L.RECTANGLE)return{width:100,height:100,...B};if(e===L.ROUNDED_RECTANGLE)return{width:100,height:100,cornerRadius:20,...B};if(e===L.CIRCLE)return{radius:50,...B};throw new Error("Graphics type is not found: "+e)},U={tree:{treeData:P(1,"Scene",[]),selectedNodeID:null},entitiesList:{1:x(j.CONTAINER,[])},properties:{base:{1:{visible:!0,alpha:1,positionX:0,positionY:0,scaleX:1,scaleY:1,rotation:0,cellSize:void 0,gridSize:void 0,cellSize:50,gridSize:100}},sprite:{},nineSliceSprite:{},graphics:{},text:{}}},G=(P(1,"Scene",[P(123,"Header",[P(645,"LogoSprite",[])]),P(222,"Footer",[])]),x(j.CONTAINER,[]),x(j.CONTAINER,[]),x(j.CONTAINER,[]),x(j.SPRITE,[]),U.tree),k=(e,t)=>{const i={...e.treeData},s={...e,treeData:i};if(!R(t.nodeData.id,s.treeData))throw new Error("Tree Reducer: the node with id ".concat(t.referenceID," has not been removed!"));return function(e,t,i){const s=I(t,i);if(s)for(let o=0;o<s.nodes.length;o++){if(s.nodes[o].id!==t)continue;const i=[...s.nodes];return i.splice(o,0,e),s.nodes=i,!0}}(t.nodeData,t.referenceID,s.treeData),s},z=(e,t)=>{const i={...e.treeData},s={...e,treeData:i};if(!function(e,t,i){const s=I(t,e);if(!s)return!1;const o=s.nodes.findIndex((e=>e.id===t)),n={...s.nodes[o],name:i};return s.nodes.splice(o,1,n),!0}(s.treeData,t.nodeID,t.name)&&(o=s.treeData,n=t.name,!o||(o.name=n,0)))throw new Error("Tree Reducer: can't update the the node with id ".concat(t.referenceID," "));var o,n;return s},Y=Object.freeze({UPDATE_BASE_PROPERTIES:"UPDATE_BASE_PROPERTIES",INIT_BASE_PROPERTIES:"INIT_BASE_PROPERTIES",REMOVE_BASE_PROPERTIES:"REMOVE_BASE_PROPERTIES",IMPORT_BASE_PROPERTIES:"IMPORT_BASE_PROPERTIES"}),H=e=>({type:Y.INIT_BASE_PROPERTIES,payload:{nodeID:e}}),X=e=>({type:Y.UPDATE_BASE_PROPERTIES,payload:e}),W=U.properties.base,F=Object.freeze({UPDATE_SPRITE_PROPERTIES:"UPDATE_SPRITE_PROPERTIES",UPDATE_RESOURCE_NAME:"UPDATE_RESOURCE_NAME",INIT_SPRITE_PROPERTIES:"INIT_SPRITE_PROPERTIES",REMOVE_SPRITE_PROPERTIES:"REMOVE_SPRITE_PROPERTIES",IMPORT_SPRITE_PROPERTIES:"IMPORT_SPRITE_PROPERTIES"}),V=e=>({type:F.INIT_SPRITE_PROPERTIES,payload:{nodeID:e}}),Q=e=>({type:F.UPDATE_SPRITE_PROPERTIES,payload:e}),K=U.properties.sprite,Z=Object.freeze({INIT_ENTITY:"INIT_ENTITY",REMOVE_ENTITY:"REMOVE_ENTITY",IMPORT_ENTITY_DATA:"IMPORT_ENTITY_DATA"}),J=(e,t)=>({type:Z.INIT_ENTITY,payload:{nodeID:e,entityType:t}}),q=U.entitiesList,$=Object.freeze({ADD_RESOURCES:"ADD_RESOURCES",REMOVE_RESOURCE:"REMOVE_RESOURCE",IMPORT_RESOURCES:"IMPORT_RESOURCES"}),ee={},te=Object.freeze({UPDATE_GRAPHICS_PROPERTIES:"UPDATE_GRAPHICS_PROPERTIES",INIT_GRAPHICS_PROPERTIES:"INIT_GRAPHICS_PROPERTIES",REMOVE_GRAPHICS_PROPERTIES:"REMOVE_GRAPHICS_PROPERTIES",IMPORT_GRAPHICS_PROPERTIES:"IMPORT_GRAPHICS_PROPERTIES",CHANGE_GRAPHICS_TYPE:"CHANGE_GRAPHICS_TYPE"}),ie=e=>({type:te.UPDATE_GRAPHICS_PROPERTIES,payload:e}),se=U.properties.graphics,oe=Object.freeze({UPDATE_NINE_SLICE_SPRITE_PROPERTIES:"UPDATE_NINE_SLICE_SPRITE_PROPERTIES",UPDATE_NINE_SLICE_RESOURCE_NAME:"UPDATE_NINE_SLICE_RESOURCE_NAME",INIT_NINE_SLICE_SPRITE_PROPERTIES:"INIT_NINE_SLICE_SPRITE_PROPERTIES",REMOVE_NINE_SLICE_SPRITE_PROPERTIES:"REMOVE_NINE_SLICE_SPRITE_PROPERTIES",IMPORT_NINE_SLICE_SPRITE_PROPERTIES:"IMPORT_NINE_SLICE_SPRITE_PROPERTIES"}),ne=e=>({type:oe.UPDATE_NINE_SLICE_SPRITE_PROPERTIES,payload:e}),re=U.properties.nineSliceSprite,ae=Object.freeze({UPDATE_TEXT_PROPERTIES:"UPDATE_TEXT_PROPERTIES",INIT_TEXT_PROPERTIES:"INIT_TEXT_PROPERTIES",REMOVE_TEXT_PROPERTIES:"REMOVE_TEXT_PROPERTIES",IMPORT_TEXT_PROPERTIES:"IMPORT_TEXT_PROPERTIES"}),ce=e=>({type:ae.UPDATE_TEXT_PROPERTIES,payload:e}),le=U.properties.text,de=Object(d.b)(Object(d.a)({tree:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;switch(t){case p.SET_SELECTED_NODE_ID:return((e,t)=>({...e,selectedNodeID:t}))(e,i);case p.SET_COPY_NODE_ID:return((e,t)=>({...e,copyNodeID:t}))(e,i);case p.INSERT_BEFORE_NODE:return k(e,i);case p.MOVE_NODE:return((e,t)=>{const i={...e.treeData},s={...e,treeData:i};if(!R(t.nodeData.id,s.treeData))throw new Error("Tree Reducer: the node with id ".concat(t.referenceID," has not been removed!"));return b(t.nodeData,t.referenceID,s.treeData),s})(e,i);case p.APPEND_NODE:return e;case p.UPDATE_NODE_NAME:return z(e,i);case p.CREATE_NODE:return((e,t)=>{const i={...e.treeData},s={...e,treeData:i};return b(P(t.nodeID),t.referenceID,s.treeData),s})(e,i);case p.DELETE_NODE:return((e,t)=>{const i={...e.treeData},s={...e,treeData:i,selectedNodeID:t.nodeID===e.selectedNodeID?null:e.selectedNodeID,copyNodeID:t.nodeID===e.copyNodeID?null:e.copyNodeID};if(!R(t.nodeID,s.treeData))throw new Error("Tree Reducer: the node with id ".concat(t.referenceID," has not been removed!"));return s})(e,i);case p.IMPORT_TREE_DATA:return((e,t)=>({...t}))(0,i);default:return e}},entityTypesList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===Z.INIT_ENTITY)return{...e,[i.nodeID]:x(i.entityType,[])};if(t===Z.IMPORT_ENTITY_DATA)return{...i};if(t===Z.REMOVE_ENTITY){const t={...e};return delete t[i.nodeID],t}return e},basePropertiesList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===Y.INIT_BASE_PROPERTIES){return{...e,[i.nodeID]:{visible:!0,alpha:1,positionX:0,positionY:0,scaleX:1,scaleY:1,rotation:0,cellSize:void 0,gridSize:void 0}}}if(t===Y.REMOVE_BASE_PROPERTIES){const t={...e};return delete t[i.nodeID],t}if(t===Y.UPDATE_BASE_PROPERTIES){const{nodeID:t,properties:s}=i,o={...e},n={...o[t],...s};return o[t]=n,o}return t===Y.IMPORT_BASE_PROPERTIES?(Object.keys(i).forEach((e=>{var t,s;i[e].visible=null===(t=i[e].visible)||void 0===t||t,i[e].alpha=null!==(s=i[e].alpha)&&void 0!==s?s:1})),{...i}):e},spritePropertiesList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===F.INIT_SPRITE_PROPERTIES){return{...e,[i.nodeID]:{anchorX:0,anchorY:0,resourceID:null,resourceName:null}}}if(t===F.REMOVE_SPRITE_PROPERTIES){const t={...e};return delete t[i.nodeID],t}if(t===F.UPDATE_SPRITE_PROPERTIES){const{nodeID:t,properties:s}=i,o={...e},n={...o[t],...s};return o[t]=n,o}if(t===F.UPDATE_RESOURCE_NAME){const{resourceID:t,resourceName:s}=i,o={...e};for(const e of Object.values(o))e.resourceID===t&&(e.resourceName=s);return o}return t===F.IMPORT_SPRITE_PROPERTIES?{...i}:e},nineSliceSpritePropertiesList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===oe.INIT_NINE_SLICE_SPRITE_PROPERTIES)return{...e,[i.nodeID]:{A:5,B:5,C:5,D:5,anchorX:0,anchorY:0,width:50,height:50,resourceID:null}};if(t===oe.REMOVE_NINE_SLICE_SPRITE_PROPERTIES){const t={...e};return delete t[i.nodeID],t}if(t===oe.UPDATE_NINE_SLICE_SPRITE_PROPERTIES){const{nodeID:t,properties:s}=i,o={...e},n={...o[t],...s};return o[t]=n,o}if(t===oe.UPDATE_NINE_SLICE_RESOURCE_NAME){const{resourceID:t,resourceName:s}=i,o={...e};for(const e of Object.values(o))e.resourceID===t&&(e.resourceName=s);return o}return t===oe.IMPORT_NINE_SLICE_SPRITE_PROPERTIES?{...i}:e},graphicsList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===te.INIT_GRAPHICS_PROPERTIES)return{...e,[i.nodeID]:{type:i.type,...M(i.type)}};if(t===te.CHANGE_GRAPHICS_TYPE)return{...e,[i.nodeID]:{type:i.type,...M(i.type)}};if(t===te.REMOVE_GRAPHICS_PROPERTIES){const t={...e};return delete t[i.nodeID],t}if(t===te.UPDATE_GRAPHICS_PROPERTIES){const{nodeID:t,properties:s}=i,o={...e},n={...o[t],...s};return o[t]=n,o}return t===te.IMPORT_GRAPHICS_PROPERTIES?{...i}:e},textPropertiesList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===ae.INIT_TEXT_PROPERTIES)return{...e,[i.nodeID]:{anchorX:0,anchorY:0,text:"No text",fill:"#000000",fontFamily:C.ARIAL,fontStyle:N.NORMAL,fontVariant:D.NORMAL,fontWeight:w.NORMAL,fontSize:40}};if(t===ae.REMOVE_TEXT_PROPERTIES){const t={...e};return delete t[i.nodeID],t}if(t===ae.UPDATE_TEXT_PROPERTIES){const t={...e};return t[i.nodeID]=i.properties,t}return t===ae.IMPORT_TEXT_PROPERTIES?{...i}:e},resourcesList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,{type:t,payload:i}=arguments.length>1?arguments[1]:void 0;if(t===$.ADD_RESOURCES){const t={...e};return i.forEach((e=>{let{id:i,file:s}=e;return t[i]=s})),t}if(t===$.REMOVE_RESOURCE){const t={...e};return delete t[i.id],t}return t===$.IMPORT_RESOURCES?{...i}:e}}));var pe=de;const he=function(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>console.error(e);const o=new FileReader;o.onerror=s,o.onload=()=>i({name:e.name,url:o.result});o["base64"===t?"readAsDataURL":"readAsText"](e)},ue=(e,t)=>{he(e,"base64",t)},Ae=(e,t,i)=>{const s=document.createElement("input");return s.setAttribute("type","file"),s.setAttribute("accept",e),s.setAttribute("multiple",t),s.onchange=e=>{const t=e.target.files?Object.values(e.target.files):[];i(t)},s},Ee=e=>Ae("image/png, image/jpeg, image/jpg",!0,e),Ie=(e,t)=>{let{name:i,url:s}=e;const o=s.match(/:(.*?);/)[1];fetch(s).then((e=>e.arrayBuffer())).then((e=>new File([e],i,{type:o}))).then(t)},ge=(e,t,i)=>{const s=document.createElement("a"),o=new Blob([e],{type:i});s.href=URL.createObjectURL(o),s.download=t,s.click()},Oe=(e,t)=>{ge(e,t,"text/plain")},Se=(Re=a.utils.TextureCache,be=a.utils.BaseTextureCache,{loadAssets(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};var i,s;Array.isArray(e)||(e=[e]),i=e,s=e=>{e.forEach((e=>{let{name:t,url:i}=e;const s=new Image;s.src=i;const o=new a.BaseTexture(s),n=new a.Texture(o);a.BaseTexture.addToCache(n,t),a.Texture.addToCache(n,t)})),t()},Promise.all(i.map((e=>new Promise(((t,i)=>{he(e,"base64",t,i)}))))).then(s).catch((e=>console.error(e)))},removeAssets(e){Array.isArray(e)||(e=[e]),e.forEach((e=>{Re[e.name].destroy(!0),be[e.name].destroy(!0),delete Re[e.name],delete be[e.name]}))}});var Re,be;const Pe={},me=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,Te=e=>{e.forEach((e=>Pe[e]=!0))},ve=function(){let e=me(1e4,99990);for(;Pe[e];)e=me(1e4,99990);return Pe[e]=!0,e},je=(e,t,i,s)=>{if(0===e.length)return void s(t);const[o,n]=e.shift();i(n,(n=>{t[o]=n,je(e,t,i,s)}))};var xe=i(10);const Ce="0.0.1";var Ne=i(111),De=i.n(Ne);const we="data-main",ye="data-resources-base64",_e="This file is a bundle and contains the tree hierarchy, entity types each node represents, base and sprite properties",fe="This file contains the resources. The resources are in base64 format",Le=".json",Be="_assets.json",Me=".zip",Ue=(e,t)=>Object.values(e).reduce(((e,i)=>{let{resourceID:s}=i;return s&&t[s]&&e.push([s,t[s]]),e}),[]),Ge=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(!t)return void i();const s=Object(xe.after)(2,i);((e,t,i)=>{const{tree:s,entityTypesList:o,basePropertiesList:n,spritePropertiesList:r,nineSliceSpritePropertiesList:a,graphicsList:c,textPropertiesList:l}=e.getState();Oe(JSON.stringify({meta:{version:Ce,type:we,description:_e},treeData:s.treeData,entityTypesList:o,basePropertiesList:n,spritePropertiesList:r,nineSliceSpritePropertiesList:a,graphicsList:c,textPropertiesList:l},null,2),t+Le),i()})(e,t,s),((e,t,i)=>{const{resourcesList:s,spritePropertiesList:o,nineSliceSpritePropertiesList:n}=e.getState(),r=Ue({...o,...n},s);je(r,{},ue,(e=>{Oe(JSON.stringify({meta:{version:Ce,type:ye,description:fe},resources:e},null,2),t+Be),i()}))})(e,t,s)},ke=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};if(!t)return void i();const{resourcesList:s,spritePropertiesList:o,nineSliceSpritePropertiesList:n}=e.getState(),r=Ue({...o,...n},s),a=[],c=new De.a;r.filter((e=>{let[t,i]=e;return!a.includes(t)&&Boolean(a.push(t))})).forEach((e=>{let[t,i]=e;c.file(i.name,i)})),c.generateAsync({type:"blob"}).then((function(e){((e,t)=>{ge(e,t,"application/x-zip")})(e,t+Me),i()}))},ze=(e,t)=>{t.importTreeDataAction(null),t.importEntityDataAction(e.entityTypesList),t.importBasePropertiesAction(e.basePropertiesList),t.importSpritePropertiesAction(e.spritePropertiesList),t.importNineSliceSpritePropertiesAction(e.nineSliceSpritePropertiesList),t.importGraphicsPropertiesAction(e.graphicsList),t.importTextPropertiesAction(e.textPropertiesList),t.importTreeDataAction(e.treeData)},Ye=(e,t)=>{((e,t)=>{Promise.all(e.map((e=>new Promise(((t,i)=>{he(e,"text",t,i)}))))).then(t).catch((e=>console.error(e)))})(e,(e=>{((e,t,i)=>{const s=e.find((e=>{let{meta:t}=e;return t.type===ye}));if(s){const e=e=>{Te(Object.keys(e)),Se.loadAssets(Object.values(e),(()=>{t.importResourcesAction(e),i()}))};je(Object.entries(s.resources),{},Ie,e)}else i()})(e=e.map((e=>JSON.parse(e.url))),t,(()=>((e,t)=>{const i=e.find((e=>{let{meta:t}=e;return t.type===we}));i&&(Te(E(i.treeData,[])),ze(i,t))})(e,t)))}))},He=e=>{Ae("application/json",!0,(t=>{Ye(t,e)})).click()};i(242);var Xe=i(0);const We=e=>Object(Xe.jsx)("div",{id:"modal",className:e.isVisible?"shown":"",children:Object(Xe.jsxs)("div",{id:"modal-content",children:[Object(Xe.jsx)("span",{className:"closeCrossButton",onClick:e.onClose,children:"\xd7"}),Object(Xe.jsx)("div",{children:Object(Xe.jsx)("p",{className:"modalMessage",children:"Do you want to save the current project?"})}),Object(Xe.jsxs)("div",{id:"modal-buttons",children:[Object(Xe.jsx)("button",{className:"confirmButton",onClick:e.onConfirm,children:"Yes"}),Object(Xe.jsx)("button",{className:"cancelButton",onClick:e.onReject,children:"No"})]})]})}),Fe=e=>{(()=>{for(const e in Pe)delete Pe[e]})();const t=Object(xe.cloneDeep)(U);ze({treeData:t.tree.treeData,entityTypesList:t.entitiesList,basePropertiesList:t.properties.base,spritePropertiesList:t.properties.sprite,nineSliceSpritePropertiesList:t.properties.nineSliceSprite,graphicsList:t.properties.graphics,textPropertiesList:t.properties.text},e),e.importResourcesAction({})},Ve=Object(l.b)((e=>({})),{importEntityDataAction:e=>({type:Z.IMPORT_ENTITY_DATA,payload:e}),importBasePropertiesAction:e=>({type:Y.IMPORT_BASE_PROPERTIES,payload:e}),importSpritePropertiesAction:e=>({type:F.IMPORT_SPRITE_PROPERTIES,payload:e}),importResourcesAction:e=>({type:$.IMPORT_RESOURCES,payload:e}),importTreeDataAction:e=>({type:p.IMPORT_TREE_DATA,payload:{treeData:e,selectedNodeID:null}}),importNineSliceSpritePropertiesAction:e=>({type:oe.IMPORT_NINE_SLICE_SPRITE_PROPERTIES,payload:e}),importGraphicsPropertiesAction:e=>({type:te.IMPORT_GRAPHICS_PROPERTIES,payload:e}),importTextPropertiesAction:e=>({type:ae.IMPORT_TEXT_PROPERTIES,payload:e})})((e=>{const[t,i]=Object(s.useState)(!1);return Object(Xe.jsxs)("header",{children:[Object(Xe.jsxs)("div",{id:"processor-options",children:[Object(Xe.jsx)("span",{children:"File"}),Object(Xe.jsxs)("div",{id:"options",children:[Object(Xe.jsx)("span",{onClick:()=>i(!0),children:"New Project"}),Object(Xe.jsx)("span",{onClick:()=>He(e),children:"Import Scene Files"}),Object(Xe.jsx)("span",{onClick:()=>Ge(pe,pe.getState().tree.treeData.name),children:"Export Scene Files"}),Object(Xe.jsx)("span",{onClick:()=>ke(pe,pe.getState().tree.treeData.name),children:"Export Used Images"})]})]}),Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)("span",{children:"Docs"}),Object(Xe.jsx)("span",{children:"About"}),Object(Xe.jsx)("span",{children:"Report Bug"})]}),Object(Xe.jsx)(We,{isVisible:t,onClose:()=>i(!1),onConfirm:()=>{var t,s,o;i(!1),t=pe,s=e,o=pe.getState().tree.treeData.name,Ge(t,o,(()=>Fe(s)))},onReject:()=>{i(!1),Fe(e)}})]})})),Qe=e=>e*(Math.PI/180),Ke={customDisplayObject:()=>new a.Container,customApplyProps:(e,t,i)=>{e.visible=i.visible,e.alpha=i.alpha,e.position.set(i.positionX,i.positionY),e.scale.set(i.scaleX,i.scaleY),e.rotation=Qe(i.rotation),e.name=String(i.id)}},Ze=Object(c.CustomPIXIComponent)(Ke,"CContainer"),Je={customDisplayObject:()=>new a.Sprite,customApplyProps:(e,t,i)=>{e.texture=i.texture,e.visible=i.visible,e.alpha=i.alpha,e.position.set(i.positionX,i.positionY),e.scale.set(i.scaleX,i.scaleY),e.anchor.set(i.anchorX,i.anchorY),e.rotation=Qe(i.rotation),e.name=String(i.id),e.interactive||(e.interactive=!0,e.on("mousedown",(()=>{i.onSelect(i.id)}),void 0))}},qe=Object(c.CustomPIXIComponent)(Je,"CSprite"),$e={customDisplayObject:()=>new a.Graphics,customApplyProps:(e,t,i)=>{if(e.clear(),e.beginFill(i.color,i.alpha),i.type===L.CIRCLE)e.drawCircle(i.x,i.y,i.radius);else if(i.type===L.RECTANGLE)e.drawRect(i.x,i.y,i.width,i.height);else{if(i.type!==L.ROUNDED_RECTANGLE)throw new Error("There is no graphics for this type: "+i.type);e.drawRoundedRect(i.x,i.y,i.width,i.height,i.cornerRadius)}e.endFill(),e.visible=i.visible,e.alpha=i.alpha,e.position.set(i.positionX,i.positionY),e.scale.set(i.scaleX,i.scaleY),e.rotation=Qe(i.rotation),e.name=String(i.id),e.interactive||(e.interactive=!0,e.on("mousedown",(()=>{i.onSelect(i.id)}),void 0))}},et=Object(c.CustomPIXIComponent)($e,"CGraphics"),tt={customDisplayObject:e=>{const t=new a.Container;return t.nineSlicePlane=new a.mesh.NineSlicePlane(e.texture,.4,.4,.4,.4),t.addChild(t.nineSlicePlane),t},customApplyProps:(e,t,i)=>{e.nineSlicePlane.texture=i.texture,e.nineSlicePlane.width=i.width,e.nineSlicePlane.height=i.height,e.nineSlicePlane.leftWidth=i.A,e.nineSlicePlane.topHeight=i.C,e.nineSlicePlane.rightWidth=i.B,e.nineSlicePlane.bottomHeight=i.D,e.nineSlicePlane.pivot.set(i.anchorX*i.width,i.anchorY*i.height),e.visible=i.visible,e.alpha=i.alpha,e.position.set(i.positionX,i.positionY),e.scale.set(i.scaleX,i.scaleY),e.rotation=Qe(i.rotation),e.name=String(i.id),e.interactive||(e.interactive=!0,e.on("mousedown",(()=>{i.onSelect(i.id)}),void 0))}},it=Object(c.CustomPIXIComponent)(tt,"CNineSlicePlane"),st={customDisplayObject:()=>new a.Text("",{}),customApplyProps:(e,t,i)=>{const{baseProps:s,textProps:o}=i,{text:n,anchorX:r,anchorY:a,...c}=o;void 0!==c.dropShadowAngle&&(c.dropShadowAngle=Qe(c.dropShadowAngle)),e.text=n,e.style=c,e.visible=s.visible,e.alpha=s.alpha,e.position.set(s.positionX,s.positionY),e.scale.set(s.scaleX,s.scaleY),e.anchor.set(r,a),e.rotation=Qe(s.rotation),e.name=String(i.id),e.interactive||(e.interactive=!0,e.on("mousedown",(()=>{i.onSelect(i.id)}),void 0))}},ot=Object(c.CustomPIXIComponent)(st,"CText"),nt=(e,t,i)=>{const{basePropertiesList:s,spritePropertiesList:o,entityTypesList:n,resourcesList:r,graphicsList:c,nineSliceSpritePropertiesList:l,textPropertiesList:d}=t,p=n[e.id],h=s[e.id];if(p.type===j.CONTAINER)return Object(Xe.jsx)(Ze,{id:e.id,onSelect:i,...h,children:e.nodes.map((e=>nt(e,t,i)))},e.id);if(p.type===j.SPRITE){const s=o[e.id],n=r[s.resourceID],c=n?a.Texture.from(n.name):a.Texture.EMPTY;return Object(Xe.jsx)(qe,{id:e.id,texture:c,onSelect:i,...h,...s,children:e.nodes.map((e=>nt(e,t,i)))},e.id)}if(p.type===j.GRAPHICS){const s=c[e.id];return Object(Xe.jsx)(et,{id:e.id,onSelect:i,...h,...s,children:e.nodes.map((e=>nt(e,t,i)))},e.id)}if(p.type===j.NINE_SLICE_SPRITE){const s=l[e.id],o=r[s.resourceID],n=o?a.Texture.from(o.name):a.Texture.EMPTY;return Object(Xe.jsx)(it,{id:e.id,texture:n,onSelect:i,...h,...s,children:e.nodes.map((e=>nt(e,t,i)))},e.id)}if(p.type===j.TEXT){const s=d[e.id];return Object(Xe.jsx)(ot,{id:e.id,onSelect:i,baseProps:h,textProps:s,children:e.nodes.map((e=>nt(e,t,i)))},e.id)}},rt=Object(l.b)((e=>({treeData:e.tree.treeData,basePropertiesList:e.basePropertiesList,spritePropertiesList:e.spritePropertiesList,nineSliceSpritePropertiesList:e.nineSliceSpritePropertiesList,entityTypesList:e.entityTypesList,resourcesList:e.resourcesList,graphicsList:e.graphicsList,textPropertiesList:e.textPropertiesList})),{setSelectedNodeIDAction:h})((e=>{let{treeData:t,setSelectedNodeIDAction:i,...s}=e;return Object(Xe.jsx)(Xe.Fragment,{children:t?nt(t,s,(e=>i(e))):null})})),at=Object(l.b)((e=>({basePropertiesList:e.basePropertiesList})),{setSelectedNodeIDAction:h})((e=>{let{basePropertiesList:t,setSelectedNodeIDAction:i,services:o}=e;const[n,r]=Object(s.useState)({positionX:0,positionY:0,scaleX:1,scaleY:1});Object(s.useEffect)((()=>{const e=e=>{o.app.stage.position.set(e.width/2,e.height/2)};return o.resize.on("update",e),o.resize.activate(),()=>{o.resize.off("update",e),o.resize.deactivate()}}),[]),Object(s.useEffect)((()=>{const e=e=>{let{scale:t,position:i}=e;r({positionX:i.x,positionY:i.y,scaleX:t.x,scaleY:t.y})};return o.camera.on("update",e),o.camera.activate(),()=>{o.camera.off("update",e),o.camera.deactivate()}}),[]);return Object(Xe.jsxs)(Ze,{id:"CameraContainer",rotation:0,visible:!0,alpha:1,...n,children:[Object(Xe.jsx)(v,{id:"CGrid",cellSize:t[1].cellSize,gridSize:t[1].gridSize,color:12763842,lineWidth:2,onSelect:e=>i(e)}),Object(Xe.jsx)(rt,{})]})}));i(244),i(245);const ct=Object(s.forwardRef)(((e,t)=>{let{label:i,value:o,onChange:n,dataID:r,className:a="",onBlur:c=(e=>e),middleware:l=(e=>e)}=e;const d=Object(s.useRef)();Object(s.useImperativeHandle)(t,(()=>({focus(){d.current.focus(),d.current.select()}})));return Object(Xe.jsxs)("div",{className:"flexRow",children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:i}),Object(Xe.jsx)("input",{ref:d,className:"widthTwoThird ".concat(a),type:"text","data-id":r,value:o,onBlur:c,onChange:e=>{e=l(e),n(r,e.target.value)}})]})}));i(246);const lt="No name",dt=Object(l.b)((e=>{let{tree:t,entityTypesList:i}=e;return{treeData:t.treeData,entityTypesList:i,selectedNodeID:t.selectedNodeID}}),{updateNodeNameAction:u})((e=>{const t=S(e.selectedNodeID,e.treeData),i=0===t.name.length||t.name===lt,o=Object(s.useRef)();Object(s.useEffect)((()=>{setTimeout((()=>o.current.focus()))}),[e.selectedNodeID]);const n=e.entityTypesList[e.selectedNodeID].type,r=n[0]+n.slice(1).toLowerCase();return Object(Xe.jsxs)("div",{className:"properties",children:[Object(Xe.jsx)("div",{className:"flexRow",children:Object(Xe.jsx)("span",{className:"textCenter colorGray widthFull",children:r})}),Object(Xe.jsx)(ct,{ref:o,label:"Name",dataID:"name",value:t.name,className:i?"invalidName":"",inputRef:o,onChange:(t,i)=>{e.updateNodeNameAction({nodeID:e.selectedNodeID,name:i})},onBlur:t=>{let i=t.target.value.trim();i=0===i.length?lt:i,e.updateNodeNameAction({nodeID:e.selectedNodeID,name:i})}})]})})),pt=e=>{let{label:t,value:i,onChange:o,dataID:n,step:r=1,max:a=Number.MAX_SAFE_INTEGER,min:c=Number.MIN_SAFE_INTEGER,sign:l="",middleware:d=(e=>e)}=e;const[p,h]=Object(s.useState)(!1),u=e=>{h(e.shiftKey)};return Object(Xe.jsxs)("div",{className:"flexRow",onKeyDown:u,onKeyUp:u,children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:t}),Object(Xe.jsx)("div",{"data-sign":l,className:"widthOneThird positionRelative inputAfterElement",children:Object(Xe.jsx)("input",{className:"widthFull",type:"number","data-id":n,step:p?10*r:r,max:a,min:c,value:i,onChange:e=>{e=d(e);const[t,i]=It(e);o(t,i)}})}),Object(Xe.jsx)("span",{className:"widthOneThird"})]})},ht=e=>{let{label:t,values:i,onChange:o,dataIDs:n,step:r=1,max:a=Number.MAX_SAFE_INTEGER,min:c=Number.MIN_SAFE_INTEGER,signs:l=["",""],middleware:d=(e=>e)}=e;const[p,h]=Object(s.useState)(!1),u=e=>{e=d(e);const[t,i]=It(e);o(t,i)},A=e=>{h(e.shiftKey)};return Object(Xe.jsxs)("div",{className:"flexRow",onKeyDown:A,onKeyUp:A,children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:t}),[0,1].map((e=>Object(Xe.jsx)("div",{"data-sign":l[e],className:"widthOneThird positionRelative inputAfterElement",children:Object(Xe.jsx)("input",{className:"widthFull",type:"number","data-id":n[e],step:p?10*r:r,max:a,min:c,value:i[e],onChange:u})},e)))]})},ut=e=>{let{label:t,selected:i,options:s,onChange:o,dataID:n}=e;return Object(Xe.jsxs)("div",{className:"flexRow",children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:t}),Object(Xe.jsx)("select",{"data-id":n,value:i,onChange:e=>o(n,e.target.value),className:"widthTwoThird",children:s.map((e=>Object(Xe.jsx)("option",{value:e,children:e},e)))})]})},At=e=>{let{label:t,value:i,onChange:s,dataID:o}=e;return Object(Xe.jsxs)("div",{className:"flexRow",children:[Object(Xe.jsx)("span",{className:"colorGray textLeft widthOneThird",children:t}),Object(Xe.jsx)("input",{className:"widthTwoThird",type:"color","data-id":o,value:i,onChange:e=>s(o,e.target.value)})]})},Et=e=>{let{label:t,value:i,onChange:s,dataID:o}=e;const n=e=>{let{target:t}=e;return t.classList.remove("dragOver")};return Object(Xe.jsxs)("div",{className:"flexRow",children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:t}),Object(Xe.jsx)("textarea",{className:"textureInput",disabled:!0,value:i,"data-id":o,onDragOver:e=>e.preventDefault(),onDragEnter:e=>{let{target:t}=e;return t.classList.add("dragOver")},onDragLeave:n,onDrop:e=>{if(n(e),!window.__RESOURCE_ID)return;const t=window.__RESOURCE_ID;delete window.__RESOURCE_ID,s(o,t)}})]})},It=e=>{const t=e.target.getAttribute("data-id"),i=parseFloat(e.target.value);return[t,Number.isNaN(i)?"":i]},gt=e=>{e.target.getAttribute("data-id");return parseFloat(e.target.value)<0&&(e.target.value=Math.abs(e.target.value)),e},Ot=e=>{let{label:t,value:i,onChange:s,dataID:o}=e;return Object(Xe.jsxs)("div",{className:"flexRow justifyContentStart",children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:t}),Object(Xe.jsx)("input",{type:"checkbox","data-id":o,value:i,checked:i,onChange:e=>{s(o,e.target.checked)}})]})},St=Object(l.b)((e=>{let{tree:t,basePropertiesList:i}=e;return{basePropertiesList:i,selectedNodeID:t.selectedNodeID}}),{updateBasePropertiesAction:X})((e=>{let{selectedNodeID:t,basePropertiesList:i,updateBasePropertiesAction:s}=e;const o=t,n=i[o],r=(e,t)=>{s({nodeID:o,properties:{...n,[e]:t}})},a={label:"Alpha",dataID:"alpha",value:n.alpha,step:.1,max:1,min:0,onChange:r},c={label:"Position",dataIDs:["positionX","positionY"],values:[n.positionX,n.positionY],signs:["X","Y"],onChange:r},l={label:"Scale",dataIDs:["scaleX","scaleY"],values:[n.scaleX,n.scaleY],signs:["X","Y"],step:.1,onChange:r},d={label:"Grid Size",dataIDs:["cellSize","gridSize"],values:[n.cellSize,n.gridSize],signs:["Cell","Grid"],min:0,onChange:r},p={label:"Rotation",dataID:"rotation",value:n.rotation,sign:"DEG",onChange:r};return Object(Xe.jsxs)("div",{className:"properties propertiesTopOffset",children:[Object(Xe.jsx)(Ot,{label:"Visible",dataID:"",value:n.visible,onChange:(e,t)=>{r("visible",t)}}),1===o&&Object(Xe.jsx)(ht,{...d}),Object(Xe.jsx)(pt,{...a}),Object(Xe.jsx)(ht,{...c}),Object(Xe.jsx)(ht,{...l}),Object(Xe.jsx)(pt,{...p})]})})),Rt=()=>Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(dt,{}),Object(Xe.jsx)(St,{})]}),bt=e=>{let{label:t,values:i,dataIDs:s}=e;return Object(Xe.jsxs)("div",{className:"flexRow",children:[Object(Xe.jsx)("span",{className:"textLeft colorGray widthOneThird",children:t}),[0,1].map((e=>Object(Xe.jsx)("div",{className:"widthOneThird positionRelative inputAfterElement",children:Object(Xe.jsx)("input",{className:"widthFull",type:"number","data-id":s[e],value:i[e],disabled:!0})},e)))]})},Pt=Object(l.b)((e=>{let{tree:t,spritePropertiesList:i,resourcesList:s}=e;return{spritePropertiesList:i,selectedNodeID:t.selectedNodeID,resourcesList:s}}),{updateSpritePropertiesAction:Q})((e=>{let{selectedNodeID:t,resourcesList:i,spritePropertiesList:o,updateSpritePropertiesAction:n}=e;const r=t,{anchorX:c,anchorY:l,resourceID:d}=o[r],p=i[d],h=p?p.name:"";Object(s.useEffect)((()=>{d&&!p&&n({nodeID:r,resourceID:null,resourceName:null})}),[p]);const u={label:"Texture",dataID:"texture",value:h,onChange:(e,t)=>{n({nodeID:r,properties:{resourceID:t,resourceName:i[t].name}})}},A=p?a.Texture.from(p.name):a.Texture.EMPTY,E={label:"Texture Size",dataIDs:["width","height"],values:[A.width,A.height]},I={label:"Anchor",dataIDs:["anchorX","anchorY"],values:[c,l],signs:["X","Y"],step:.5,onChange:(e,t)=>{n({nodeID:r,properties:{...o[r],[e]:t}})}};return Object(Xe.jsxs)("div",{className:"properties propertiesTopOffset",children:[Object(Xe.jsx)(Et,{...u}),Object(Xe.jsx)(bt,{...E}),Object(Xe.jsx)(ht,{...I})]})})),mt=()=>Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(dt,{}),Object(Xe.jsx)(St,{}),Object(Xe.jsx)(Pt,{})]}),Tt=Object(l.b)((e=>{let{graphicsList:t,tree:i}=e;return{graphicsList:t,selectedNodeID:i.selectedNodeID}}),{changeGraphicsTypeAction:(e,t)=>({type:te.CHANGE_GRAPHICS_TYPE,payload:{nodeID:e,type:t}})})((e=>{let{selectedNodeID:t,graphicsList:i,changeGraphicsTypeAction:s}=e;const o=i[t];return Object(Xe.jsx)("div",{className:"properties propertiesTopOffset",children:Object(Xe.jsx)(ut,{label:"Type",dataID:"graphicsType",selected:o.type,options:Object.values(L),onChange:(e,i)=>{o.type!==i&&s(t,i)}})})})),vt=e=>e.startsWith("0x")?"#"+e.substring(2):e.startsWith("#")?"0x"+e.substring(1):null,jt=Object(l.b)((e=>{let{graphicsList:t,tree:i}=e;return{graphicsList:t,selectedNodeID:i.selectedNodeID}}),{updateGraphicsPropertiesAction:ie})((e=>{let{selectedNodeID:t,graphicsList:i,updateGraphicsPropertiesAction:s}=e;const o=i[t],n=(e,i)=>{s({nodeID:t,properties:{...o,[e]:i}})},r={label:"Origin",dataIDs:["x","y"],values:[o.x,o.y],signs:["X","Y"],onChange:n},a={label:"Radius",dataID:"radius",value:o.radius,sign:"R",middleware:gt,onChange:n},c={label:"Color",dataID:"color",value:vt(o.color),onChange:(e,i)=>{s({nodeID:t,properties:{...o,[e]:vt(i)}})}},l={label:"Alpha",dataID:"alpha",value:o.alpha,step:.1,max:1,min:0,middleware:gt,onChange:n};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(ht,{...r}),Object(Xe.jsx)(pt,{...a}),Object(Xe.jsx)(At,{...c}),Object(Xe.jsx)(pt,{...l})]})})),xt=Object(l.b)((e=>{let{graphicsList:t,tree:i}=e;return{graphicsList:t,selectedNodeID:i.selectedNodeID}}),{updateGraphicsPropertiesAction:ie})((e=>{let{selectedNodeID:t,graphicsList:i,updateGraphicsPropertiesAction:s}=e;const o=i[t],n=(e,i)=>{s({nodeID:t,properties:{...o,[e]:i}})},r={label:"Origin",dataIDs:["x","y"],values:[o.x,o.y],signs:["X","Y"],onChange:n},a={label:"Size",dataIDs:["width","height"],values:[o.width,o.height],signs:["W","H"],onChange:n},c={label:"Color",dataID:"color",value:vt(o.color),onChange:(e,i)=>{s({nodeID:t,properties:{...o,[e]:vt(i)}})}},l={label:"Alpha",dataID:"alpha",value:o.alpha,step:.1,max:1,min:0,onChange:n};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(ht,{...r}),Object(Xe.jsx)(ht,{...a}),Object(Xe.jsx)(At,{...c}),Object(Xe.jsx)(pt,{...l})]})})),Ct=Object(l.b)((e=>{let{graphicsList:t,tree:i}=e;return{graphicsList:t,selectedNodeID:i.selectedNodeID}}),{updateGraphicsPropertiesAction:ie})((e=>{let{selectedNodeID:t,graphicsList:i,updateGraphicsPropertiesAction:s}=e;const o=i[t],n=(e,i)=>{s({nodeID:t,properties:{...o,[e]:i}})},r={label:"Origin",dataIDs:["x","y"],values:[o.x,o.y],signs:["X","Y"],onChange:n},a={label:"Size",dataIDs:["width","height"],values:[o.width,o.height],signs:["W","H"],onChange:n},c={label:"Color",dataID:"color",value:vt(o.color),onChange:(e,i)=>{s({nodeID:t,properties:{...o,[e]:vt(i)}})}},l={label:"Alpha",dataID:"alpha",value:o.alpha,step:.1,max:1,min:0,middleware:gt,onChange:n},d={label:"Corner",dataID:"cornerRadius",value:o.cornerRadius,sign:"R",middleware:gt,onChange:n};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(ht,{...r}),Object(Xe.jsx)(ht,{...a}),Object(Xe.jsx)(pt,{...d}),Object(Xe.jsx)(At,{...c}),Object(Xe.jsx)(pt,{...l})]})})),Nt={[L.CIRCLE]:Object(Xe.jsx)(jt,{}),[L.RECTANGLE]:Object(Xe.jsx)(xt,{}),[L.ROUNDED_RECTANGLE]:Object(Xe.jsx)(Ct,{})},Dt=Object(l.b)((e=>{let{graphicsList:t,tree:i}=e;return{graphicsList:t,selectedNodeID:i.selectedNodeID}}),{})((e=>{let{selectedNodeID:t,graphicsList:i}=e;const s=i[t];return Object(Xe.jsx)("div",{className:"properties",children:Nt[s.type]})})),wt=()=>Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(dt,{}),Object(Xe.jsx)(St,{}),Object(Xe.jsx)(Tt,{}),Object(Xe.jsx)(Dt,{})]}),yt=Object(l.b)((e=>{let{tree:t,nineSliceSpritePropertiesList:i,resourcesList:s}=e;return{nineSliceSpritePropertiesList:i,selectedNodeID:t.selectedNodeID,resourcesList:s}}),{updateNineSliceSpritePropertiesAction:ne})((e=>{let{selectedNodeID:t,resourcesList:i,nineSliceSpritePropertiesList:o,updateNineSliceSpritePropertiesAction:n}=e;const r=t,c=o[r],l=i[c.resourceID],d=l?l.name:"";Object(s.useEffect)((()=>{c.resourceID&&!l&&n({nodeID:r,resourceID:null,resourceName:null})}),[l]);const p=(e,t)=>{n({nodeID:r,properties:{...c,[e]:t}})},h={label:"Texture",dataID:"texture",value:d,onChange:(e,t)=>{n({nodeID:r,properties:{resourceID:t,resourceName:i[t].name}})}},u=l?a.Texture.from(l.name):a.Texture.EMPTY,A={label:"Texture Size",dataIDs:["width","height"],values:[u.width,u.height]},E={label:"Corners",dataIDs:["A","C"],values:[c.A,c.C],signs:["A","C"],onChange:p},I={label:"",dataIDs:["B","D"],values:[c.B,c.D],signs:["B","D"],onChange:p},g={label:"Anchor",dataIDs:["anchorX","anchorY"],values:[c.anchorX,c.anchorY],signs:["X","Y"],step:.5,onChange:p},O={label:"Size",dataIDs:["width","height"],values:[c.width,c.height],signs:["W","H"],onChange:p};return Object(Xe.jsxs)("div",{className:"properties propertiesTopOffset",children:[Object(Xe.jsx)(Et,{...h}),Object(Xe.jsx)(bt,{...A}),Object(Xe.jsx)(ht,{...g}),Object(Xe.jsx)(ht,{...O}),Object(Xe.jsx)(ht,{...E}),Object(Xe.jsx)(ht,{...I})]})})),_t=()=>Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(dt,{}),Object(Xe.jsx)(St,{}),Object(Xe.jsx)(yt,{})]}),ft=Object(l.b)((e=>{let{tree:t,textPropertiesList:i}=e;return{selectedNodeID:t.selectedNodeID,textPropertiesList:i}}),{updateTextPropertiesAction:ce})((e=>{let{selectedNodeID:t,textPropertiesList:i,updateTextPropertiesAction:s}=e;const o=t,{text:n,fill:r,anchorY:a,anchorX:c,fontFamily:l,fontStyle:d,fontVariant:p,fontWeight:h,fontSize:u,hasStroke:A=!1,stroke:E="#ffffff",strokeThickness:I=1,miterLimit:g=10,lineJoin:O=y.MITER,dropShadow:S=!1,dropShadowAlpha:R=1,dropShadowAngle:b=0,dropShadowBlur:P=0,dropShadowColor:m="#ffffff",dropShadowDistance:T=0,wordWrap:v=!1,breakWords:j=!1,leading:x=0,lineHeight:L=0,wordWrapWidth:B=200,align:M=_.LEFT,whiteSpace:U=f.PRE}=i[o],G=function(e,t){let i={text:n,fill:r,anchorY:a,anchorX:c,fontFamily:l,fontStyle:d,fontVariant:p,fontWeight:h,fontSize:u,...(arguments.length>2&&void 0!==arguments[2]?arguments[2]:A)?{hasStroke:!0,stroke:E,strokeThickness:I,miterLimit:g,lineJoin:O}:{},...(arguments.length>3&&void 0!==arguments[3]?arguments[3]:S)?{dropShadow:!0,dropShadowAlpha:R,dropShadowAngle:b,dropShadowBlur:P,dropShadowColor:m,dropShadowDistance:T}:{},...(arguments.length>4&&void 0!==arguments[4]?arguments[4]:v)?{wordWrap:!0,breakWords:j,leading:x,lineHeight:L,wordWrapWidth:B,align:M,whiteSpace:U}:{}};i[e]=t,s({nodeID:o,properties:i})},k={label:"Text",dataID:"text",value:n,onChange:G},z={label:"Anchor",dataIDs:["anchorX","anchorY"],values:[c,a],signs:["X","Y"],onChange:G},Y={label:"Color",dataID:"fill",value:r,onChange:G},H={label:"Font Family",dataID:"fontFamily",selected:l,options:Object.values(C),onChange:G},X={label:"Font Style",dataID:"fontStyle",selected:d,options:Object.values(N),onChange:G},W={label:"Font Variant",dataID:"fontVariant",selected:p,options:Object.values(D),onChange:G},F={label:"Font Weight",dataID:"fontWeight",selected:h,options:Object.values(w),onChange:G},V={label:"Size",dataID:"fontSize",value:u,sign:"Px",onChange:G};return Object(Xe.jsxs)("div",{className:"properties propertiesTopOffset",children:[Object(Xe.jsx)(ct,{...k}),Object(Xe.jsx)(ht,{...z}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)(At,{...Y}),Object(Xe.jsx)(ut,{...H}),Object(Xe.jsx)(ut,{...X}),Object(Xe.jsx)(ut,{...W}),Object(Xe.jsx)(ut,{...F}),Object(Xe.jsx)(pt,{...V}),Object(Xe.jsx)("br",{}),Object(Xe.jsx)(Ot,{label:"Stroke",dataID:"",value:A,onChange:(e,t)=>{G("","",t,S,v)}}),A?(()=>{const e={label:"Color",dataID:"stroke",value:E,onChange:G},t={label:"Line Join",dataID:"lineJoin",selected:O,options:Object.values(y),onChange:G},i={label:"Thickness",dataID:"strokeThickness",value:I,sign:"Px",onChange:G},s={label:"Miter Limit",dataID:"miterLimit",value:g,sign:"Px",onChange:G};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(At,{...e}),Object(Xe.jsx)(ut,{...t}),Object(Xe.jsx)(pt,{...i}),Object(Xe.jsx)(pt,{...s})]})})():null,Object(Xe.jsx)("br",{}),Object(Xe.jsx)(Ot,{label:"Shadow",dataID:"",value:S,onChange:(e,t)=>G("","",A,t,v)}),S?(()=>{const e={label:"Color",dataID:"dropShadowColor",value:m,onChange:G},t={label:"Alpha",dataID:"dropShadowAlpha",value:R,onChange:G},i={label:"Angle",dataID:"dropShadowAngle",value:b,sign:"DEG",onChange:G},s={label:"Blur",dataID:"dropShadowBlur",value:P,sign:"Px",onChange:G},o={label:"Distance",dataID:"dropShadowDistance",value:T,sign:"Px",onChange:G};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(At,{...e}),Object(Xe.jsx)(pt,{...t}),Object(Xe.jsx)(pt,{...i}),Object(Xe.jsx)(pt,{...s}),Object(Xe.jsx)(pt,{...o})]})})():null,Object(Xe.jsx)("br",{}),Object(Xe.jsx)(Ot,{label:"Multiline",dataID:"",value:v,onChange:(e,t)=>G("","",A,S,t)}),v?(()=>{const e={label:"Break Words",dataID:"breakWords",value:j,onChange:G},t={label:"Align",dataID:"align",selected:M,options:Object.values(_),onChange:G},i={label:"White Space",dataID:"whiteSpace",selected:U,options:Object.values(f),onChange:G},s={label:"Wrap Width",dataID:"wordWrapWidth",value:B,sign:"Px",onChange:G},o={label:"Line Height",dataID:"lineHeight",value:L,sign:"Px",onChange:G},n={label:"Leading",dataID:"leading",value:x,sign:"Px",onChange:G};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ot,{...e}),Object(Xe.jsx)(ut,{...t}),Object(Xe.jsx)(ut,{...i}),Object(Xe.jsx)(pt,{...s}),Object(Xe.jsx)(pt,{...o}),Object(Xe.jsx)(pt,{...n})]})})():null]})})),Lt=()=>Object(Xe.jsxs)("div",{children:[Object(Xe.jsx)(dt,{}),Object(Xe.jsx)(St,{}),Object(Xe.jsx)(ft,{})]}),Bt=[{checker:(e,t)=>{const i=t.entityTypesList[e];return i&&i.type===j.CONTAINER},component:Object(Xe.jsx)(Rt,{})},{checker:(e,t)=>{const i=t.entityTypesList[e];return i&&i.type===j.SPRITE},component:Object(Xe.jsx)(mt,{})},{checker:(e,t)=>{const i=t.entityTypesList[e];return i&&i.type===j.GRAPHICS},component:Object(Xe.jsx)(wt,{})},{checker:(e,t)=>{const i=t.entityTypesList[e];return i&&i.type===j.NINE_SLICE_SPRITE},component:Object(Xe.jsx)(_t,{})},{checker:(e,t)=>{const i=t.entityTypesList[e];return i&&i.type===j.TEXT},component:Object(Xe.jsx)(Lt,{})}],Mt=Object(l.b)((e=>{let{tree:t}=e;return{selectedNodeID:t.selectedNodeID}}),{})((e=>{const t=e.selectedNodeID,i=Bt.find((e=>e.checker(t,pe.getState())));return Object(Xe.jsx)("div",{style:{marginTop:20},children:i?i.component:null})}));i(247),i(248);const Ut=e=>{const[t,i]=Object(s.useState)({url:"",name:"Loading..."});Object(s.useEffect)((()=>{const t={setParsedResource:e=>{let{name:t,url:s}=e;i({url:s,name:t.replace(/(.png)|(.jpeg)|(.jpg)/i,"")})}};return ue(e.resource,(e=>t.setParsedResource(e))),()=>t.setParsedResource=()=>{}}),[e.resource]);return Object(Xe.jsx)("div",{draggable:!0,onDragStart:()=>window.__RESOURCE_ID=e.id,className:"image-preview","data-type":"image-preview","data-image-id":e.id,style:{backgroundImage:"url(".concat(t.url,")")},children:t.name})},Gt=Object(l.b)((e=>{let{resourcesList:t}=e;return{resourcesList:t}}),{})((e=>{return Object(Xe.jsx)("div",{id:"files-preview","data-type":"resources-panel",children:(t=e.resourcesList,Object.keys(t).map((e=>Object(Xe.jsx)(Ut,{id:e,resource:t[e]},e))))});var t}));i(249);const kt=e=>{const[t,i]=Object(s.useState)({top:0,left:0}),[o,n]=Object(s.useState)({isVisible:!1,hoveredElement:null}),r=Object(s.useRef)({x:0,y:0}),a=Object(s.useRef)(document.createElement("div"));Object(s.useEffect)((()=>(window.addEventListener("contextmenu",c),()=>window.removeEventListener("contextmenu",c))),[]),Object(s.useEffect)((()=>(a.current.addEventListener("mouseleave",l),()=>a.current.removeEventListener("mouseleave",l))),[]),Object(s.useEffect)((()=>{if(!o.isVisible)return;const{x:e,y:t}=r.current,{offsetWidth:s,offsetHeight:n}=a.current,c=e+s-window.innerWidth,l=t+n-window.innerHeight;i({top:l>0?t-n+10:t-10,left:c>0?e-s+10:e-10})}),[o.isVisible]);const c=Object(s.useCallback)((t=>{if(!e.canProcessContextMenu(t))return;const{target:s,clientX:o,clientY:a}=t;r.current.x=o,r.current.y=a,n({hoveredElement:s,isVisible:!0}),i({top:a,left:a})}),[]),l=Object(s.useCallback)((()=>{n({isVisible:!1,hoveredElement:null})}),[]),d=Object(s.useCallback)((t=>{e.canProcessClick(t)&&(e.processClick(t,o.hoveredElement),l())}),[o.hoveredElement]);return Object(Xe.jsx)("div",{className:"options-popup",ref:a,onClick:d,style:{...t,display:o.isVisible?"block":"none"},children:e.optionsMap.map(((e,t)=>{const{option:i,label:s,isAvailable:n,className:r=""}=e;return Object(Xe.jsx)("div",{"data-option":i,className:r,style:{display:n(o.hoveredElement)?"block":"none"},children:s},t)}))})},zt="ADD_IMAGE",Yt="DOWNLOAD_IMAGE",Ht="REPLACE_IMAGE",Xt="REMOVE_IMAGE",Wt=Object(l.b)((e=>({})),{addResourceAction:e=>({type:$.ADD_RESOURCES,payload:e}),updateSpriteResourceNameAction:e=>({type:F.UPDATE_RESOURCE_NAME,payload:e}),updateNineSliceSpriteResourceNameAction:e=>({type:oe.UPDATE_NINE_SLICE_RESOURCE_NAME,payload:e}),removeResourceAction:e=>({type:$.REMOVE_RESOURCE,payload:{id:e}})})((e=>{const t=e=>"resources-panel"!==(e?e.getAttribute("data-type"):void 0),i=[{option:zt,label:"Add Image",isAvailable:()=>!0},{option:Yt,label:"Download Image",isAvailable:e=>{const t=e?parseInt(e.getAttribute("data-image-id")):NaN;return!Number.isNaN(t)}},{option:Ht,label:"Replace Image",isAvailable:t},{option:Xt,label:"Remove Image",className:"remove-option",isAvailable:t}];return Object(Xe.jsx)(kt,{canShowRemoveOption:t,canProcessContextMenu:e=>{const t=e.target.getAttribute("data-type");return"resources-panel"===t||"image-preview"==t},canProcessClick:e=>Boolean(e.target.getAttribute("data-option")),processClick:(t,i)=>{const s=t.target.getAttribute("data-option");if(s&&s===zt){return void Ee((t=>{Se.loadAssets(t,(()=>{const i=t.map((e=>({id:ve(),file:e})));e.addResourceAction(i)}))})).click()}const o=parseInt(i.getAttribute("data-image-id"));if(o)if(s!==Ht){if(s===Xt){Se.removeAssets(pe.getState().resourcesList[o]),e.removeResourceAction(o);const t={resourceID:String(o),resourceName:null};e.updateSpriteResourceNameAction(t),e.updateNineSliceSpriteResourceNameAction(t)}else if(s===Yt){const e=pe.getState().resourcesList[o];n=e,r=e.name,ge(n,r,"image/png, image/jpeg, image/jpg")}var n,r}else{Ee((i=>{1===i.length&&(t.target.src=void 0,Se.loadAssets(i[0],(()=>{const t=i.map((e=>({id:o,file:e})));e.addResourceAction(t);const s={resourceID:String(o),resourceName:t[0].file.name};e.updateSpriteResourceNameAction(s),e.updateNineSliceSpriteResourceNameAction(s)})))})).click()}},optionsMap:i})})),Ft=(e,t,i)=>t>e.x&&t<e.x+e.width&&i>e.y&&i<e.y+e.height,Vt=Object.freeze({TOP:"top",CENTER:"center",BOTTOM:"bottom"});i(108),i(250);const Qt="node-element",Kt={[j.CONTAINER]:"data:image/png;base64,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",[j.SPRITE]:"data:image/png;base64,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",[j.GRAPHICS]:"data:image/png;base64,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",[j.NINE_SLICE_SPRITE]:"data:image/png;base64,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",[j.TEXT]:"data:image/png;base64,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"},Zt=e=>{let{node:t,selectedNodeID:i,copyNodeID:o}=e;const[n,r]=Object(s.useState)(!0),a=(e,t)=>e.some((e=>e.id===t||e.nodes.length>0&&a(e.nodes,t)));Object(s.useEffect)((()=>{a(t.nodes,i)&&r(!1)}),[i]);const c=Object(Xe.jsx)("div",{className:"node-nodes",children:t.nodes.map((e=>Object(Xe.jsx)(Zt,{node:e,selectedNodeID:i,copyNodeID:o},e.id)))}),l=Object(Xe.jsx)("div",{className:"toggler",onClick:()=>r(!n),children:n?Object(Xe.jsx)(Xe.Fragment,{children:"+"}):Object(Xe.jsx)(Xe.Fragment,{children:"\u2212"})}),d=pe.getState().entityTypesList[t.id].type,p={backgroundImage:"url(".concat(Kt[d],")")},h=i===t.id?{backgroundColor:"darkgreen"}:o===t.id?{backgroundColor:"darkgoldenrod"}:{};return Object(Xe.jsxs)("div",{className:"node",children:[0===t.nodes.length?null:l,Object(Xe.jsx)("div",{className:"node-icon",style:p}),Object(Xe.jsx)("div",{draggable:"true",className:"node-name","data-id":t.id,"data-type":Qt,style:h,children:t.name?t.name:"---"}),n?null:c]})},Jt=Object(l.b)((e=>{let{tree:t}=e;return{treeState:t}}))((e=>{let{treeState:t}=e;return Object(Xe.jsx)(Xe.Fragment,{children:t.treeData?Object(Xe.jsx)(Zt,{node:t.treeData,selectedNodeID:t.selectedNodeID,copyNodeID:t.copyNodeID},t.treeData.id):null})})),qt={[Vt.CENTER]:"insert-center",[Vt.TOP]:"insert-before"},$t=e=>{Object.values(qt).forEach((t=>{e.classList.remove(t)}))},ei=Object(l.b)((e=>{let{resourcesList:t}=e;return{resourcesList:t}}),{moveNodeAction:e=>({type:p.MOVE_NODE,payload:e}),insertBeforeNodeAction:e=>({type:p.INSERT_BEFORE_NODE,payload:e}),setSelectedNodeIDAction:h,initBasePropertiesAction:H,initEntityAction:J,initSpritePropertiesAction:V,createNodeAction:A,updateNodeNameAction:u,updateSpritePropertiesAction:Q})((e=>{let t=P(-1),i=P(-1),s=document.createElement("div"),o="";const n=e=>{$t(s),t=P(-1),i=P(-1),s=document.createElement("div"),o=""};return Object(Xe.jsx)("div",{id:"tree-container",onDragStart:e=>{const i=pe.getState().tree.treeData;t=S(Number(e.target.getAttribute("data-id")),i)},onDragOver:e=>{e.preventDefault();const n=pe.getState().tree.treeData,r=S(Number(e.target.getAttribute("data-id")),n);if(!(r&&t.id!==r.id&&!g(r.id,t)&&!O(t.id,r)))return $t(s),void(i=P(-1));s!==e.target&&($t(s),s=e.target,o="");let a=((e,t,i)=>{const s={x:e.x,y:e.y,width:e.width,height:.3*e.height},o={x:e.x,y:e.y+.3*e.height,width:e.width,height:.4*e.height};return Ft(s,t,i)?Vt.TOP:Ft(o,t,i)?Vt.CENTER:Vt.BOTTOM})(s.getBoundingClientRect(),e.clientX,e.clientY);a!==Vt.BOTTOM&&a!==o&&($t(s),1===r.id&&(a=Vt.CENTER),o=a,s.classList.add(qt[a])),i=r},onDragEnd:n,onDrop:s=>{if(window.__RESOURCE_ID){const t=window.__RESOURCE_ID;delete window.__RESOURCE_ID;const s=e.resourcesList[t].name,o=e.resourcesList[t].name.replace(/\.[^/.]+$/,""),n=ve();e.initBasePropertiesAction(n),e.initEntityAction(n,j.SPRITE),e.initSpritePropertiesAction(n),e.createNodeAction(i.id,n),e.updateNodeNameAction({nodeID:n,name:o}),e.updateSpritePropertiesAction({nodeID:n,properties:{resourceID:t,resourceName:s}}),e.setSelectedNodeIDAction(n)}t.id<0||i.id<0||(o===Vt.CENTER?e.moveNodeAction({nodeData:t,referenceID:i.id}):e.insertBeforeNodeAction({nodeData:t,referenceID:i.id})),n(s)},onClick:t=>{if(!t.target.hasAttribute("data-id"))return void e.setSelectedNodeIDAction(null);const i=Number(t.target.getAttribute("data-id"));e.setSelectedNodeIDAction(i)},children:Object(Xe.jsx)(Jt,{})})})),ti={...j,CLONE_OPTION:"CLONE_OPTION",COPY_OPTION:"COPY_OPTION",PASTE_OPTION:"PASTE_OPTION",REMOVE_OPTION:"REMOVE_OPTION"},ii=Object(l.b)((e=>{let{}=e;return{}}),{createNodeAction:A,updateNodeNameAction:u,setCopyNodeIDAction:e=>({type:p.SET_COPY_NODE_ID,payload:e}),setSelectedNodeIDAction:h,deleteNodeAction:e=>({type:p.DELETE_NODE,payload:{nodeID:e}}),initEntityAction:J,removeEntityAction:e=>({type:Z.REMOVE_ENTITY,payload:{nodeID:e}}),initBasePropertiesAction:H,updateBasePropertiesAction:X,removeBasePropertiesAction:e=>({type:Y.REMOVE_BASE_PROPERTIES,payload:{nodeID:e}}),initSpritePropertiesAction:V,updateSpritePropertiesAction:Q,removeSpritePropertiesAction:e=>({type:F.REMOVE_SPRITE_PROPERTIES,payload:{nodeID:e}}),initGraphicsPropertiesAction:(e,t)=>({type:te.INIT_GRAPHICS_PROPERTIES,payload:{nodeID:e,type:t}}),updateGraphicsPropertiesAction:ie,removeGraphicsPropertiesAction:e=>({type:te.REMOVE_GRAPHICS_PROPERTIES,payload:{nodeID:e}}),initNineSliceSpritePropertiesAction:e=>({type:oe.INIT_NINE_SLICE_SPRITE_PROPERTIES,payload:{nodeID:e}}),updateNineSliceSpritePropertiesAction:ne,removeNineSliceSpritePropertiesAction:e=>({type:oe.REMOVE_NINE_SLICE_SPRITE_PROPERTIES,payload:{nodeID:e}}),initTextPropertiesAction:e=>({type:ae.INIT_TEXT_PROPERTIES,payload:{nodeID:e}}),updateTextPropertiesAction:ce,removeTextPropertiesAction:e=>({type:ae.REMOVE_TEXT_PROPERTIES,payload:{nodeID:e}})})((e=>{const t=e=>{const t=e?e.getAttribute("data-id"):void 0;return Boolean(t)&&1!==Number(t)},i=[{option:ti.CONTAINER,label:"Add Container",isAvailable:()=>!0},{option:ti.SPRITE,label:"Add Sprite",isAvailable:()=>!0},{option:ti.NINE_SLICE_SPRITE,label:"Add 9 Slice Sprite",isAvailable:()=>!0},{option:ti.GRAPHICS,label:"Add Graphics",isAvailable:()=>!0},{option:ti.TEXT,label:"Add Text",isAvailable:()=>!0},{option:ti.CLONE_OPTION,label:"Clone",isAvailable:t},{option:ti.COPY_OPTION,label:"Copy",isAvailable:t},{option:ti.PASTE_OPTION,label:"Paste",isAvailable:()=>Boolean(pe.getState().tree.copyNodeID)},{option:ti.REMOVE_OPTION,label:"Remove",className:"remove-option",isAvailable:t}],s=(t,i,o,n)=>{if((n=n||[]).includes(t.id))return;const r=pe.getState().entityTypesList[t.id],a=ve();n.push(a),e.initBasePropertiesAction(a);const c={...pe.getState().basePropertiesList[t.id]};return o&&(c.positionX+=o.x,c.positionY+=o.y),e.updateBasePropertiesAction({nodeID:a,properties:c}),e.initEntityAction(a,r.type),r.type===j.SPRITE?(e.initSpritePropertiesAction(a),e.updateSpritePropertiesAction({nodeID:a,properties:pe.getState().spritePropertiesList[t.id]})):r.type===j.GRAPHICS?(e.initGraphicsPropertiesAction(a,L.RECTANGLE),e.updateGraphicsPropertiesAction({nodeID:a,properties:pe.getState().graphicsList[t.id]})):r.type===j.NINE_SLICE_SPRITE?(e.initNineSliceSpritePropertiesAction(a),e.updateNineSliceSpritePropertiesAction({nodeID:a,properties:pe.getState().nineSliceSpritePropertiesList[t.id]})):r.type===j.TEXT&&(e.initTextPropertiesAction(a),e.updateTextPropertiesAction({nodeID:a,properties:pe.getState().textPropertiesList[t.id]})),e.createNodeAction(i,a),e.updateNodeNameAction({nodeID:a,name:t.name}),t.nodes.forEach((e=>s(e,a,void 0,n))),a};return Object(Xe.jsx)(kt,{canShowRemoveOption:t,canProcessContextMenu:e=>{const t=e.target.getAttribute("data-type");return e.target.getAttribute("data-id")&&t&&t===Qt},canProcessClick:e=>Boolean(e.target.getAttribute("data-option")),processClick:(t,i)=>{const o=t.target.getAttribute("data-option"),n=Number(i.getAttribute("data-id"));if(o===ti.REMOVE_OPTION){const t=pe.getState().entityTypesList[n];if(e.setSelectedNodeIDAction(null),e.deleteNodeAction(n),e.removeEntityAction(n),e.removeBasePropertiesAction(n),t.type===j.CONTAINER);else if(t.type===j.SPRITE)e.removeSpritePropertiesAction(n);else if(t.type===j.GRAPHICS)e.removeGraphicsPropertiesAction(n);else if(t.type===j.NINE_SLICE_SPRITE)e.removeNineSliceSpritePropertiesAction(n);else{if(t.type!==j.TEXT)throw new Error("You forgot to add a handler for REMOVE option");e.removeTextPropertiesAction(n)}return}if(o===ti.CLONE_OPTION){const t=pe.getState().tree.treeData,i=S(n,t),o=I(i.id,t),r=s(i,o.id,{x:10,y:-10});return void e.setSelectedNodeIDAction(r)}if(o===ti.COPY_OPTION)return void e.setCopyNodeIDAction(n);if(o===ti.PASTE_OPTION){const t=pe.getState().tree.treeData,i=S(pe.getState().tree.copyNodeID,t),o=s(i,n,{x:0,y:0});return e.setCopyNodeIDAction(null),void e.setSelectedNodeIDAction(o)}const r=ve();if(e.initBasePropertiesAction(r),o===ti.SPRITE)e.initEntityAction(r,j.SPRITE),e.initSpritePropertiesAction(r);else if(o===ti.CONTAINER)e.initEntityAction(r,j.CONTAINER);else if(o===ti.GRAPHICS)e.initEntityAction(r,j.GRAPHICS),e.initGraphicsPropertiesAction(r,L.RECTANGLE);else if(o===ti.NINE_SLICE_SPRITE)e.initEntityAction(r,j.NINE_SLICE_SPRITE),e.initNineSliceSpritePropertiesAction(r);else{if(o!==ti.TEXT)throw new Error("You forgot to add a handler for ADD option");e.initEntityAction(r,j.TEXT),e.initTextPropertiesAction(r)}e.createNodeAction(n,r),e.setSelectedNodeIDAction(r)},optionsMap:i})})),si=Object(l.b)((e=>({selectedNodeID:e.tree.selectedNodeID,treeData:e.tree.treeData,basePropertiesList:e.basePropertiesList,spritePropertiesList:e.spritePropertiesList,nineSliceSpritePropertiesList:e.nineSliceSpritePropertiesList,entityTypesList:e.entityTypesList,resourcesList:e.resourcesList,graphicsList:e.graphicsList,textPropertiesList:e.textPropertiesList})),{updateBasePropertiesAction:X})((e=>{let{services:t,selectedNodeID:i,updateBasePropertiesAction:o,basePropertiesList:n}=e;if(Object(s.useEffect)((()=>(t.app.stage.addChild(t.gizmoPositionArrows.view),t.gizmoPositionArrows.activate(),()=>{t.app.stage.removeChild(t.gizmoPositionArrows.view),t.gizmoPositionArrows.deactivate()})),[]),Object(s.useEffect)((()=>{if(!i)return()=>{};const e=()=>{const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.gizmoPositionArrows.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.gizmoPositionArrows.setRotation(t.pixiTools.getGlobalRotation(e)),t.gizmoPositionArrows.setElementRotation(e.rotation)};return e(),t.camera.on("update",e),()=>t.camera.off("update",e)}),[i]),i){const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.gizmoPositionArrows.show(),t.gizmoPositionArrows.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.gizmoPositionArrows.setRotation(t.pixiTools.getGlobalRotation(e)),t.gizmoPositionArrows.setElementRotation(e.rotation),t.gizmoPositionArrows.onMoved(((e,s)=>{const r=t.camera.applyScale({x:Object(xe.round)(e),y:Object(xe.round)(s)}),a={...n[i]};a.positionX=Object(xe.round)(a.positionX+r.x),a.positionY=Object(xe.round)(a.positionY+r.y),o({nodeID:i,properties:a})}))}else t.gizmoPositionArrows.hide(),t.gizmoPositionArrows.onMoved(null);return Object(Xe.jsx)(Xe.Fragment,{})})),oi=Object(l.b)((e=>({selectedNodeID:e.tree.selectedNodeID,treeData:e.tree.treeData,basePropertiesList:e.basePropertiesList,spritePropertiesList:e.spritePropertiesList,nineSliceSpritePropertiesList:e.nineSliceSpritePropertiesList,entityTypesList:e.entityTypesList,resourcesList:e.resourcesList,graphicsList:e.graphicsList,textPropertiesList:e.textPropertiesList})),{updateBasePropertiesAction:X})((e=>{let{services:t,selectedNodeID:i,updateBasePropertiesAction:o,basePropertiesList:n}=e;if(Object(s.useEffect)((()=>(t.app.stage.addChild(t.gizmoScaleBox.view),t.gizmoScaleBox.activate(),()=>{t.app.stage.removeChild(t.gizmoScaleBox.view),t.gizmoScaleBox.deactivate()})),[]),Object(s.useEffect)((()=>{if(!i)return()=>{};const e=()=>{const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.gizmoScaleBox.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.gizmoScaleBox.setRotation(t.pixiTools.getGlobalRotation(e))};return e(),t.camera.on("update",e),()=>t.camera.off("update",e)}),[i]),i){const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.gizmoScaleBox.show(),t.gizmoScaleBox.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.gizmoScaleBox.setRotation(t.pixiTools.getGlobalRotation(e)),t.gizmoScaleBox.onMoved(((e,t)=>{const s=e/100,r=t/100,a={...n[i]};a.scaleX=Object(xe.round)(a.scaleX+s,2),a.scaleY=Object(xe.round)(a.scaleY+r,2),o({nodeID:i,properties:a})}))}else t.gizmoScaleBox.hide(),t.gizmoScaleBox.onMoved(null);return Object(Xe.jsx)(Xe.Fragment,{})})),ni="MOVE",ri="SCALE",ai="ROTATE";class ci{constructor(e){this._buttons=e,this._buttons.move.setAttribute("data-id",ni),this._buttons.resize.setAttribute("data-id",ri),this._buttons.rotate.setAttribute("data-id",ai),this._onButtonClick=e=>{},this._currentActiveMethod="",this._processClick=this._processClick.bind(this)}onButtonClicked(e){this._onButtonClick=e||(e=>{})}activate(){this._buttons.move.addEventListener("click",this._processClick),this._buttons.resize.addEventListener("click",this._processClick),this._buttons.rotate.addEventListener("click",this._processClick)}deactivate(){this._buttons.move.removeEventListener("click",this._processClick),this._buttons.resize.removeEventListener("click",this._processClick),this._buttons.rotate.removeEventListener("click",this._processClick)}_processClick(e){const t=e.target.getAttribute("data-id");if(this._currentActiveMethod===t)return e.target.classList.remove("selected"),this._currentActiveMethod="",void this._onButtonClick("");t&&(this._currentActiveMethod=t,Object.values(this._buttons).forEach((e=>e.classList.remove("selected"))),e.target.classList.add("selected"),this._onButtonClick(t))}}const li=Object(l.b)((e=>({selectedNodeID:e.tree.selectedNodeID,treeData:e.tree.treeData,basePropertiesList:e.basePropertiesList,spritePropertiesList:e.spritePropertiesList,nineSliceSpritePropertiesList:e.nineSliceSpritePropertiesList,entityTypesList:e.entityTypesList,resourcesList:e.resourcesList,graphicsList:e.graphicsList,textPropertiesList:e.textPropertiesList})),{updateBasePropertiesAction:X})((e=>{let{services:t,selectedNodeID:i,updateBasePropertiesAction:o,basePropertiesList:n}=e;if(Object(s.useEffect)((()=>(t.app.stage.addChild(t.gizmoRotation.view),t.gizmoRotation.activate(),()=>{t.app.stage.removeChild(t.gizmoRotation.view),t.gizmoRotation.deactivate()})),[]),Object(s.useEffect)((()=>{if(!i)return()=>{};const e=()=>{const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.gizmoRotation.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage))};return e(),t.camera.on("update",e),()=>t.camera.off("update",e)}),[i]),i){const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.gizmoRotation.show(),t.gizmoRotation.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.gizmoRotation.onMoved((e=>{const t={...n[i]};t.rotation=Object(xe.round)(t.rotation+e*(180/Math.PI),2),o({nodeID:i,properties:t})}))}else t.gizmoRotation.hide(),t.gizmoRotation.onMoved(null);return Object(Xe.jsx)(Xe.Fragment,{})})),di=Object(l.b)((e=>({selectedNodeID:e.tree.selectedNodeID,treeData:e.tree.treeData,basePropertiesList:e.basePropertiesList,spritePropertiesList:e.spritePropertiesList,nineSliceSpritePropertiesList:e.nineSliceSpritePropertiesList,entityTypesList:e.entityTypesList,resourcesList:e.resourcesList,graphicsList:e.graphicsList,textPropertiesList:e.textPropertiesList})),{updateBasePropertiesAction:X})((e=>{let{services:t,selectedNodeID:i,updateBasePropertiesAction:o,basePropertiesList:n}=e;if(Object(s.useEffect)((()=>(t.app.stage.addChild(t.elementBounds.view),()=>{t.app.stage.removeChild(t.elementBounds.view)})),[]),Object(s.useEffect)((()=>{if(!i)return()=>{};const e=()=>{const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.elementBounds.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.elementBounds.setRotation(t.pixiTools.getGlobalRotation(e)),t.elementBounds.adjustBounds(e,t.camera.getScale())};return e(),t.camera.on("update",e),()=>t.camera.off("update",e)}),[i]),i){const e=t.pixiTools.getChildByName(t.app.stage,String(i));t.elementBounds.setPosition(t.pixiTools.getChildRelativePosition(e,t.app.stage)),t.elementBounds.setRotation(t.pixiTools.getGlobalRotation(e)),t.elementBounds.adjustBounds(e,t.camera.getScale()),t.elementBounds.show()}else t.elementBounds.hide();return Object(Xe.jsx)(Xe.Fragment,{})})),pi={[ni]:e=>Object(Xe.jsx)(si,{services:e.services}),[ri]:e=>Object(Xe.jsx)(oi,{services:e.services}),[ai]:e=>Object(Xe.jsx)(li,{services:e.services})},hi=e=>{const[t,i]=Object(s.useState)("");return Object(s.useEffect)((()=>(e.services.gizmoButtons.onButtonClicked((e=>i(e))),e.services.gizmoButtons.activate(),()=>{e.services.gizmoButtons.deactivate(),e.services.gizmoButtons.onButtonClicked(null)})),[]),Object(Xe.jsxs)(l.a,{store:pe,children:[Object(Xe.jsx)(di,{services:e.services}),pi[t]&&pi[t](e)]})};class ui extends a.utils.EventEmitter{constructor(e,t,i){super(),this._canvas=e,this._ticker=t,this._scale=i,this._needUpdate=!1,this._isClicked=!1,this._cameraPosition={x:0,y:0},this._mouseOldPosition={x:0,y:0},this._cameraScale=1,this._onMouseLeave=this._onMouseLeave.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onWheel=this._onWheel.bind(this)}activate(){this._ticker.add(this._update,this),this._canvas.addEventListener("mouseleave",this._onMouseLeave),this._canvas.addEventListener("mousedown",this._onMouseDown),this._canvas.addEventListener("mousemove",this._onMouseMove),this._canvas.addEventListener("mouseup",this._onMouseUp),this._canvas.addEventListener("wheel",this._onWheel)}deactivate(){this._ticker.remove(this._update,this),this._canvas.removeEventListener("mouseleave",this._onMouseLeave),this._canvas.removeEventListener("mousedown",this._onMouseDown),this._canvas.removeEventListener("mousemove",this._onMouseMove),this._canvas.removeEventListener("mouseup",this._onMouseUp),this._canvas.removeEventListener("wheel",this._onWheel)}resetCamera(){this._canvas.style.cursor="default",this._cameraPosition={x:0,y:0},this._mouseOldPosition={x:0,y:0},this._cameraScale=1,this._needUpdate=!0}applyScale(e){let{x:t,y:i}=e;return{x:t/this._cameraScale,y:i/this._cameraScale}}getScale(){return this._cameraScale}_update(){this._needUpdate&&(this._needUpdate=!1,this.emit("update",{scale:{x:this._cameraScale,y:this._cameraScale},position:{...this._cameraPosition}}))}_onMouseDown(e){e.ctrlKey&&2===e.button?this.resetCamera():this._isClicked||2!==e.button||(this._isClicked=!0,this._mouseOldPosition={x:e.x,y:e.y},this._canvas.style.cursor="move")}_onMouseMove(e){if(!this._isClicked)return void(this._canvas.style.cursor.includes("zoom")&&(this._canvas.style.cursor="default"));this._canvas.style.cursor.includes("zoom")&&(this._canvas.style.cursor="move");const t=this._cameraPosition.x+(e.x-this._mouseOldPosition.x),i=this._cameraPosition.y+(e.y-this._mouseOldPosition.y);this._cameraPosition.x=t,this._cameraPosition.y=i,this._mouseOldPosition={x:e.x,y:e.y},this._needUpdate=!0}_onMouseUp(e){this._isClicked&&(this._isClicked=!1,this._canvas.style.cursor="default")}_onMouseLeave(){this._isClicked=!1,this._canvas.style.cursor="default"}_onWheel(e){e.preventDefault();const t=Math.sign(e.wheelDelta),i=this._cameraScale,s=this._canvas.getBoundingClientRect(),o=e.x-s.left-s.width/2,n=e.y-s.top-s.height/2,r=this._cameraScale+.02*t;this._cameraScale=Object(xe.clamp)(r,this._scale.min,this._scale.max);const a=i-this._cameraScale;this._cameraPosition.x-=this._cameraPosition.x*a/this._cameraScale-o*a,this._cameraPosition.y-=this._cameraPosition.y*a/this._cameraScale-n*a,this._needUpdate=!0,this._canvas.style.cursor=t>0?"zoom-in":"zoom-out"}}class Ai extends a.utils.EventEmitter{constructor(e,t,i){super(),this.size={...i},this._renderer=t,this._canvasContainer=e,this._designSize={...i},this._observer=new ResizeObserver((()=>this.resize()))}activate(){this._observer.observe(this._canvasContainer),this.resize()}deactivate(){this._observer.unobserve(this._canvasContainer)}resize(){const e={width:this._canvasContainer.offsetWidth,height:this._canvasContainer.offsetHeight},{width:t,height:i}=this._designSize,s=e.height,o=e.width,n={width:0,height:0};s>o?(n.width=0|t,n.height=i*(s/o)|0):(n.height=0|i,n.width=t*(o/s)|0),this._renderer.resize(n.width,n.height),this._renderer.view.style.width="".concat(o,"px"),this._renderer.view.style.height="".concat(s,"px"),this.size=n,this.emit("update",{...n})}}class Ei{constructor(){this.view=new a.Container,this._bounds=new a.Graphics,this.view.addChild(this._bounds)}show(){this.view.visible=!0}hide(){this.view.visible=!1}setPosition(e){this.view.x=e.x,this.view.y=e.y}setRotation(e){this._bounds.rotation=e}adjustBounds(e,t){this._bounds.clear();const i=e._localBoundsRect?e._localBoundsRect.x*t:void 0!==e.anchor?-e.width*e.anchor.x*t:0,s=e._localBoundsRect?e._localBoundsRect.y*t:void 0!==e.anchor?-e.height*e.anchor.y*t:0,o=(e.scale?e.width*(e.scale.x<0&&e.width>0?-1:1):e.width)*t,n=(e.scale?e.height*(e.scale.y<0&&e.height>0?-1:1):e.height)*t;this._bounds.lineStyle(3,16711680).moveTo(i,s).lineTo(i+o,s).lineTo(i+o,s+n).lineTo(i,s+n).lineTo(i,s).endFill()}}const Ii="xAxis",gi="yAxis",Oi="xyAxis";class Si{constructor(e){this.view=new a.Container,this.view.visible=!1;const t=180,i=25;this._yAxisArrow=(new a.Graphics).lineStyle(5,65280).moveTo(0,0).lineTo(0,-180).moveTo(0,-180).lineTo(-12.5,-155).lineTo(0,-180).lineTo(12.5,-155).beginFill(65280).drawPolygon([0,-180,-12.5,-155,12.5,-155]).endFill(),this._xAxisArrow=(new a.Graphics).lineStyle(5,255).moveTo(0,0).lineTo(t,0).moveTo(t,0).lineTo(155,-12.5).lineTo(t,0).lineTo(155,12.5).beginFill(255).drawPolygon([t,0,155,-12.5,155,12.5]).endFill();const s=[65280,255,255,65280];this._center=new a.Graphics,this._center.position.set(15,-15);const o=[[-15,-15],[0,-15],[-15,0],[0,0]];for(let n=0;n<s.length;n++)this._center.beginFill(s[n]),this._center.drawRect(o[n][0],o[n][1],15,15);this._center.endFill(),this.view.addChild(this._yAxisArrow,this._xAxisArrow,this._center),this._axisHitBoxes={[Ii]:new a.Circle(167.5,0,i),[gi]:new a.Circle(0,-167.5,i),[Oi]:new a.Rectangle(0,-30,30,30)},this._isClicked=!1,this._targetAxis="",this._oldMousePosition={x:0,y:0},this._offset={x:0,y:0},this._elementRotation=0,this.view.hitArea=new a.Rectangle(-20,-190,200,200),this.view.interactiveChildren=!1,this.view.on("mousedown",this._onMouseDown,this),this.view.on("mousemove",this._onMouseMove,this),this.view.on("mouseup",this._onMouseUp,this),this.view.on("mouseupoutside",this._onMouseUp,this),this._needToUpdate=!1,this._ticker=e,this._onMoved=(e,t)=>{}}onMoved(e){this._onMoved=e||((e,t)=>{})}show(){this.view.visible=!0}hide(){this.view.visible=!1}activate(){this.view.interactive=!0,this._ticker.add(this._update,this)}deactivate(){this._ticker.remove(this._update,this),this.view.interactive=!1}setPosition(e){this.view.x=e.x,this.view.y=e.y}setRotation(e){this.view.rotation=e}setElementRotation(e){this._elementRotation=e}_onMouseDown(e){if(this._isClicked)return;const{x:t,y:i}=e.data.getLocalPosition(this.view),s=Object.keys(this._axisHitBoxes).find((e=>this._axisHitBoxes[e].contains(t,i)));void 0!==s&&(this._isClicked=!0,this._targetAxis=s,this._oldMousePosition={...e.data.global})}_onMouseMove(e){if(!this._isClicked)return;const t=e.data.global.x-this._oldMousePosition.x,i=e.data.global.y-this._oldMousePosition.y;let s=0,o=0;this._targetAxis===Ii?(s=t,o=t*Math.tan(this._elementRotation)):this._targetAxis===gi?(s=-i*Math.tan(this._elementRotation),o=i):(s=t,o=i),this._oldMousePosition={...e.data.global},this._offset.x+=s,this._offset.y+=o,this._needToUpdate=!0}_onMouseUp(e){this._isClicked&&(this._isClicked=!1)}_update(){this._needToUpdate&&(this._needToUpdate=!1,this._onMoved(this._offset.x,this._offset.y),this._offset={x:0,y:0})}}class Ri{constructor(e){this.view=new a.Container,this.view.visible=!1,this._innerRadius=80,this._outerRadius=95;const t=new a.Graphics;t.lineStyle(4,65280),t.arc(0,0,this._innerRadius,0,2*Math.PI,!1),t.lineStyle(4,255),t.arc(0,0,this._outerRadius,0,2*Math.PI,!1),t.beginFill(16711680,1),t.drawCircle(0,0,5),t.endFill(),this.view.addChild(t),this._segmentStartAngle=0,this._fillSegment=new a.Graphics,this.view.addChild(this._fillSegment),this._isClicked=!1,this._oldMousePosition={x:0,y:0},this._deltaAngle=0,this._oldAngle=0,this.view.hitArea=new a.Circle(0,0,100),this.view.interactiveChildren=!1,this.view.on("mousedown",this._onMouseDown,this),this.view.on("mousemove",this._onMouseMove,this),this.view.on("mouseup",this._onMouseUp,this),this.view.on("mouseupoutside",this._onMouseUp,this),this._needToUpdate=!1,this._ticker=e,this._onMoved=e=>{}}onMoved(e){this._onMoved=e||(e=>{})}show(){this.view.visible=!0}hide(){this.view.visible=!1}activate(){this.view.interactive=!0,this._ticker.add(this._update,this)}deactivate(){this._ticker.remove(this._update,this),this.view.interactive=!1}setPosition(e){this.view.x=e.x,this.view.y=e.y}setRotation(e){this.view.rotation=e}_onMouseDown(e){if(this._isClicked)return;const{x:t,y:i}=e.data.getLocalPosition(this.view),s=Math.hypot(t,i);s<this._outerRadius&&s>this._innerRadius&&(this._isClicked=!0,this._oldMousePosition={x:t,y:i},this._oldAngle=Math.atan2(i,t),this._segmentStartAngle=this._oldAngle)}_onMouseMove(e){let{data:t}=e;if(!this._isClicked)return;const{x:i,y:s}=t.getLocalPosition(this.view),o=Math.atan2(s,i);this._fillSegment.clear().beginFill(16711680,.5).moveTo(0,0).arc(0,0,this._outerRadius,this._segmentStartAngle,o,!1).lineTo(0,0).endFill(),this._deltaAngle=o-this._oldAngle,this._oldAngle=o,this._oldMousePosition={x:i,y:s},this._needToUpdate=!0}_onMouseUp(e){this._isClicked&&(this._fillSegment.clear(),this._segmentStartAngle=0,this._oldAngle=0,this._isClicked=!1)}_update(){this._needToUpdate&&(this._needToUpdate=!1,this._onMoved(this._deltaAngle),this._deltaAngle=0)}}const bi="xAxis",Pi="yAxis",mi="xyAxis";class Ti{constructor(e){this.view=new a.Container,this.view.visible=!1;const t=180,i=20;this._yAxisArrow=(new a.Graphics).lineStyle(5,65280).moveTo(0,0).lineTo(0,-180).beginFill(65280).drawRect(-10,-190,i,i).endFill(),this._xAxisArrow=(new a.Graphics).lineStyle(5,255).moveTo(0,0).lineTo(t,0).beginFill(255).drawRect(170,-10,i,i).endFill();const s=[65280,255,255,65280];this._center=new a.Graphics,this._center.position.set(15,-15);const o=[[-15,-15],[0,-15],[-15,0],[0,0]];for(let n=0;n<s.length;n++)this._center.beginFill(s[n]),this._center.drawRect(o[n][0],o[n][1],15,15);this._center.endFill(),this.view.addChild(this._yAxisArrow,this._xAxisArrow,this._center),this._axisHitBoxes={[bi]:new a.Circle(t,0,i),[Pi]:new a.Circle(0,-180,i),[mi]:new a.Rectangle(0,-30,30,30)},this._isClicked=!1,this._targetAxis="",this._oldMousePosition={x:0,y:0},this._offset={x:0,y:0},this.view.hitArea=new a.Rectangle(-30,-200,230,230),this.view.interactiveChildren=!1,this.view.on("mousedown",this._onMouseDown,this),this.view.on("mousemove",this._onMouseMove,this),this.view.on("mouseup",this._onMouseUp,this),this.view.on("mouseupoutside",this._onMouseUp,this),this._needToUpdate=!1,this._ticker=e,this._onMoved=(e,t)=>{}}onMoved(e){this._onMoved=e||((e,t)=>{})}show(){this.view.visible=!0}hide(){this.view.visible=!1}activate(){this.view.interactive=!0,this._ticker.add(this._update,this)}deactivate(){this._ticker.remove(this._update,this),this.view.interactive=!1}setPosition(e){this.view.x=e.x,this.view.y=e.y}setRotation(e){this.view.rotation=e}_onMouseDown(e){if(this._isClicked)return;const{x:t,y:i}=e.data.getLocalPosition(this.view),s=Object.keys(this._axisHitBoxes).find((e=>this._axisHitBoxes[e].contains(t,i)));void 0!==s&&(this._isClicked=!0,this._targetAxis=s,this._oldMousePosition={x:t,y:i})}_onMouseMove(e){let{data:t}=e;if(!this._isClicked)return;const i=t.getLocalPosition(this.view);let s=0,o=0;this._targetAxis===bi?s=i.x-this._oldMousePosition.x:this._targetAxis===Pi?o=-1*(i.y-this._oldMousePosition.y):(s=i.x-this._oldMousePosition.x,o=-1*(i.y-this._oldMousePosition.y),s<=0?s=o:o<=0?o=s:s=o=Math.min(s,o)),this._oldMousePosition=i,this._offset.x+=s,this._offset.y+=o,this._needToUpdate=!0}_onMouseUp(e){this._isClicked&&(this._isClicked=!1)}_update(){this._needToUpdate&&(this._needToUpdate=!1,this._onMoved(this._offset.x,this._offset.y),this._offset={x:0,y:0})}}a.DisplayObject.prototype.name=null;const vi=(e,t)=>{for(let i=0,s=e.children.length;i<s;i++)if(e.children[i].name===t)return e.children[i];for(let i=0,s=e.children.length;i<s;i++){const s=e.children[i];if(!s.getChildByName)continue;const o=vi(s,t);if(o)return o}return null},ji=(e,t)=>{const i=e.toGlobal(new a.Point);return t.toLocal(i)},xi=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?e.rotation:0,i=e.parent;for(;i;)t+=i.rotation,i=i.parent;return t};const Ci=()=>{window.addEventListener("contextmenu",(e=>e.preventDefault()));const[e,t]=Object(s.useState)(null),i=Object(s.useRef)(null),o=Object(s.useRef)(null),n=Object(s.useRef)(null),r=Object(s.useRef)(null),[d,p]=Object(s.useState)(!1),h={move:Object(s.useRef)(null),resize:Object(s.useRef)(null),rotate:Object(s.useRef)(null)};Object(s.useEffect)((()=>{const e=new a.Application({backgroundColor:16777215,view:i.current});t({app:e,camera:new ui(e.view,e.ticker,{min:1/8,max:8}),resize:new Ai(o.current,e.renderer,{width:1280,height:1280}),elementBounds:new Ei,gizmoPositionArrows:new Si(e.ticker),gizmoScaleBox:new Ti(e.ticker),gizmoRotation:new Ri(e.ticker),gizmoButtons:new ci({move:h.move.current,resize:h.resize.current,rotate:h.rotate.current}),pixiTools:{getChildByName:vi,getChildRelativePosition:ji,getGlobalRotation:xi}})}),[]);const u=e=>{if(!d)return;const t=Math.max(100,Math.min(window.innerHeight-100,e.clientY));n.current.style.height="".concat(window.innerHeight-t,"px"),o.current.style.height="".concat(t,"px")};return Object(Xe.jsxs)("div",{onMouseUp:()=>p(!1),onMouseMove:u,children:[Object(Xe.jsx)(Ve,{}),Object(Xe.jsx)("div",{id:"left-panel",children:Object(Xe.jsx)(ei,{})}),Object(Xe.jsxs)("div",{ref:o,id:"center-panel",children:[Object(Xe.jsx)("canvas",{ref:i}),null===e?null:Object(Xe.jsxs)(c.Stage,{app:e.app,children:[Object(Xe.jsx)(l.a,{store:pe,children:Object(Xe.jsx)(at,{services:e})}),Object(Xe.jsx)(hi,{services:e})]})]}),Object(Xe.jsxs)("div",{id:"gizmo-buttons",children:[Object(Xe.jsx)("input",{ref:h.move,type:"image",className:"gizmoButton",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAklEQVR4nO2ZW0/CQBCFj79MH0QtagUUFUUNPvmLvQty0ajRZwWKazYZkmYz0N3e3E32S+ahJdud02lnzxbA43GWKoXTBAC+AYwB7MFRqgB+AAgKKaYGx9hWRMxjAqABR9inhMWCiACcwHIOEkTExZzCUkIAUw0R85jSGOsYMHedq0T8uA8LeVESbjFCWooYOcY6QqpKN7ZmqEJAv3WpGrtwBMEIcRLhhViGr0hR1KgjDcjR6tKLVUV2KhOvNqLOlptrPlRWbClGFyl6SLFlMG6oOIAmcjCAqu0wEZKWEeOaZS6pqDMGMKLzRVNn7MwkzdwBs5+QF26jPJrM0zAxeWd2aDcnDOMawKpBoms0xnSeMeW4lE3aY4uUcW8g5DHDPOMkn9Yw3FOoIdutLt0M80TkpJdylFLM0HCNCZjuJDRFyBzLedFyIMir4bSZFiifzQ0UT4VpOJm65gWAmXLBWxTPnTKnzOE860UvFTGy25jc2QeKdYNxfUVEBzkhP918AHg19EzxhJ4Nt82fFIndqQzUjuMswguxDF+R//4/5AnADbXdRRWp0DrR03GxZbMC4E1xACEjJFRW7HcaaxVfjJ3h7Hf8WK4T1nHG2JllMaMxVtLRFPML4AqW00rYz0RkRp3geIGYKA8XWzbqh73I5ndCtzJTk+2prTTz+OTp8eB/+ANADavcr/fWTQAAAABJRU5ErkJggg=="}),Object(Xe.jsx)("input",{ref:h.resize,type:"image",className:"gizmoButton",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABLklEQVR4nO2ZQQrCMBBFP+IV1Hr/dVbxAO7cim31OCOFEQaxNMVJMwnzIJtSS54/8xct4DjOWgIA4nUxfH2Ri/hhMHy9emIrQsSremNKFUm+sRCB/+xiInsAd/H81JXfeCU7AI8tRUpy+CFb2wzjCKDnzUuZqlpLSvSczN8iW5/NSWIQEseFfRRvraUkXgA6zX3kaq1vTgBG3uwgkvhQRWstSaCG1pIzMR2n88x9ZLm1phl48kZGTmYOstpaHSeQImG2taTEM0Fi4gbgCkOt9S0hKzYrlGlpScTUGc4lopUErR127aUFtSIS1raWVZFkXATbJBJLt5YW1MqwUysiwVsLthJJxvrRit5asJUIeWvBViLNDHszItFbCzqJaH1fp9KtpfV9PWz0btpxmuINio26DijFAa0AAAAASUVORK5CYII="}),Object(Xe.jsx)("input",{ref:h.rotate,type:"image",className:"gizmoButton",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC/ElEQVR4nO2aW4hNURjHf2TOwYQZl9yepBEKLyjXMmUYymVcyi3x5MGDmgeJ8sCD5JJLKDVvygOJcpnIm0uNJB7cxqU4hQfMGAljjlZ9U9tn7Tn7zFlrzt6n+dXq7Dprr/3997p96/s29FK6DAfqgMPAdeAF8Bn4DfyS6+fANeAQsByojNj2CuAT8BFY5sP4NLAJuCkGZ/Ms7cANYKO0FUYmcM97HNIfqAc+dMP4sGKMrZe2NbquE2qBtw4F6NIMLPUpxLypszmMeCjjfxUwBRgK9JNirqcCq4EjwKMcbZ0GBrgWMhpoCnngF+AgUNWNdieJqNaQth8Ao1wJGSfdrRv7KQKGUDimt47J6qaf89qFkJHAK0tDj2WYuGY68CzCPMp7TtiG00WgHH8MAq66FHLG0kAD0Nex4UuAN3mubJFZHNITrkUgG1y+S3TkIaXnxRNgIH5450vIDsvqNA1/1IasTNlChKQtbofZ4BLHeiWiBagggdxSQsyGlzgqLDvrBBJInRJhnLpEcqAUJrmhUQlZQ0J5qYT4cAp7hBYlZBjxZJ54GveBBbYKf5SQFPGkOWDjXVuFVuWW9CF+pNTLNtvFfxwNVDhPPBmshHy1VTLe7Upgiyd33RVPA0Juk2AWAneAy8DkYhvTSz5MBHYDW4mnY1sVpWK5RMw7J9NO4sM2sakD2BOlN4LLW5vEtorNCOBbwC6TXuiSMhXCN+UkxWefssns7jnZrm4yrssMiss5ZZMJkEQKQOhY7wmKy4aAL9iUIyn0D9XKidxM8ZkL1HQnaD5bds9dMfaEY02lHLMvSVzYG9Wypvvwc+aoqON3R/kXa5q4XR5ifo/LGu+CdZbDXdZXuHav5UFtEsgrZB6VSQova8kAeBtWnT2iy/4u7jNnnbHATGC+HJC6Omd0SCrO6yJTE5JTvBLiuzXI0TlY954l6zVLPjxolBfWI6Rld80Ezs7mTeeKXgbLImJEStzqMSH/rw0R8QMYT8I4JTmXjMSTL8jHBL2UNH8BR3ytEk4rkMsAAAAASUVORK5CYII="})]}),Object(Xe.jsx)("div",{id:"right-panel",children:Object(Xe.jsx)(Mt,{})}),Object(Xe.jsxs)("div",{id:"bottom-panel",ref:n,children:[Object(Xe.jsx)("div",{id:"split-bar-bottom",ref:r,onMouseDown:()=>p(!0),onMouseMove:u}),Object(Xe.jsx)(Gt,{})]}),Object(Xe.jsx)(ii,{}),Object(Xe.jsx)(Wt,{})]})};r.a.render(Object(Xe.jsx)(l.a,{store:pe,children:Object(Xe.jsx)(o.a.StrictMode,{children:Object(Xe.jsx)(Ci,{})})}),document.getElementById("root"))}},[[251,1,2]]]);
//# sourceMappingURL=main.556dc07b.chunk.js.map